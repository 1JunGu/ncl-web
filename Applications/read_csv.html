<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.ncl.ucar.edu/Applications/read_csv.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:16:04 GMT -->
<head>
<meta name="description" content="NCL file IO example page. Demonstrates
how to read CSV files">
<TITLE>NCL: Reading CSV (comma-separated values) files</TITLE>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../Document/Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../Document/Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../overview.html" class="subitem">Overview</a></li>
						<li><a href="../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>						
						<li><a href="../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="list_io.html" class="subitem">File I/O</a></li>
						<li><a href="list_data.html" class="subitem">Datasets</a></li>
						<li><a href="list_maps.html" class="subitem">Maps</a></li>
						<li><a href="list_models.html" class="subitem">Models</a></li>
						<li><a href="list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../Document/Functions/list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../Document/Functions/list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../Document/Functions/index.html" class="subitem">Category Listing</a></li>
						<li><a href="../Document/Functions/list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../Document/Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../Document/Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../Document/Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../Document/Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../Document/Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../Document/Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../Document/Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../Document/Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../Document/Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../Document/Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../Document/Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../Document/Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../Document/Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../Document/Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../Document/Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../Document/Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../Document/Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../Document/Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../Document/Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../Document/Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../Document/Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../Document/Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../Document/Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../Document/Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../Document/Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../Document/Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../Document/Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../Document/Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../Document/Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../Document/Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../Document/Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../Document/Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../Document/Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../Document/Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../Document/Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../Document/Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="../Document/Tools/ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="../Document/Tools/ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="../Document/Tools/index.html" class="subitem">Tools</a></li>
					<li><a href="../Document/Tools/WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../Document/Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../Document/Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>
						<li><a href="../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">

<a class=crumb href="../index-2.html">NCL Home></a>
<a class=crumb href="index-2.html">Application examples></a>
<a class=crumb href="list_io.html">File IO</a> ||
<a href="Data/index.html">Data files for some examples</a><p>
<font size=-1>Example pages containing:
<a href="concepts_list.html">tips</a> |
<a href="res_list.html">resources</a> | 
<a href="func_list.html">functions/procedures</a></font>


<h1>NCL: Reading CSV (comma-separated values) files</h1>

<div class=text>
<a href="http://en.wikipedia.org/wiki/Comma-separated_values">CSV</a>
files are ASCII files whose values are separated by commas or other
separators (semicolons, spaces, etc).
<p>

One way to read these files is using a combination of these functions:

<ul>
<li><a href="../Document/Functions/Built-in/asciiread.html"><strong>asciiread</strong></a>
<li><a href="../Document/Functions/Built-in/str_get_field.html"><strong>str_get_field</strong></a>, <a href="../Document/Functions/Built-in/str_sub_str.html"><strong>str_sub_str</strong></a>,
<li><a href="../Document/Functions/Built-in/str_match_ic_regex.html"><strong>str_match_ic_regex</strong></a>, <a href="../Document/Functions/Built-in/str_match_ic_regex.html"><strong>str_match_ic_regex</strong></a>,
    <a href="../Document/Functions/Built-in/str_match_ind_regex.html"><strong>str_match_ind_regex</strong></a>, <a href="../Document/Functions/Built-in/str_ind_match_ic_regex.html"><strong>str_ind_match_ic_regex</strong></a>
<li><a href="../Document/Functions/Built-in/tointeger.html"><strong>tointeger</strong></a>, <a href="../Document/Functions/Built-in/tofloat.html"><strong>tofloat</strong></a>,
<a href="../Document/Functions/Built-in/todouble.html"><strong>todouble</strong></a>
</ul>
<p>

You can get away with just using <a href="../Document/Functions/Built-in/asciiread.html"><strong>asciiread</strong></a> if you
have a file of all numbers, and no mix of numbers and characters in
any one field.
<p>

For examples of reading/writing other types of ASCII files, see:

<ul>
<li><a href="write_csv.html">Writing CSV files</a>
<li><a href="write_ascii.html">Writing ASCII data</a>
<li><a href="read_ascii.html">Reading ASCII data</a>
</ul>

</div>

<div class=text>
Sometimes there are multiple CSV files. Rather that looping over many files, it
may be advantageous to create one CSV file contaning all the data. 
This is readily accomplished via the unix/linux <b>cat</b> command:
<pre>

       <b>cat</b> file01.csv file02.cvs .... >! FILE.csv
     or
       <b>cat</b> file*.csv .... >! FILE.csv

</pre>
The '>!' are the *nix redirect operator ( > ) and the overwrite operator ( ! ). 
</div>

<div class=ex>
<!--CSV_1-->
<a name=ex1></a>
<a href="Scripts/csv_1.html">csv_1.ncl</a>: Shows how to read a simple
CSV file (<a href="Data/asc/example1.csv">example1.csv</a>) that
contains all integers.
<p>
<a href="../Document/Functions/Built-in/asciiread.html"><strong>asciiread</strong></a> is used to read the table as strings
first so we can get the number of rows and columns. The
values are then converted to integers using <a href="../Document/Functions/Built-in/tointeger.html"><strong>tointeger</strong></a>.
</div>

<div class=ex>
<!--CSV_2-->
<a name=ex2></a>
<a href="Scripts/csv_2.html">csv_2.ncl</a>: Shows how to read a CSV
file (<a href="Data/asc/example2.csv">example2.csv</a>) that contains
a mix of strings, integers, and fields.
<p>

<a href="../Document/Functions/Built-in/asciiread.html"><strong>asciiread</strong></a> is used to read the table as strings
and then <a href="../Document/Functions/Built-in/str_get_field.html"><strong>str_get_field</strong></a> is used to read the
desired fields. There's a mix of integer and float fields,
so <a href="../Document/Functions/Built-in/tointeger.html"><strong>tointeger</strong></a> and 
<a href="../Document/Functions/Built-in/tofloat.html"><strong>tofloat</strong></a> are used to convert from strings to numeric
values.


</div>

<div class=ex>
<!--CSV_3-->
<a name=ex3></a>
<a href="Scripts/csv_3.html">csv_3.ncl</a>: Shows how to read a CSV
file (<a href="Data/asc/example3.csv">example3.csv</a>) that contains
fields that are all enclosed in double quotes.
<p>

<a href="../Document/Functions/Built-in/asciiread.html"><strong>asciiread</strong></a> is used to read the table as strings,
<a href="../Document/Functions/Built-in/str_get_field.html"><strong>str_get_field</strong></a> is used to read the
desired fields, and <a href="../Document/Functions/Built-in/str_sub_str.html"><strong>str_sub_str</strong></a> is used
to remove all the double quotes.

</div>

<div class=ex>
<!--CSV_4-->
<a name=ex4></a>

<a href="Scripts/csv_4.html">csv_4.ncl</a>: Shows how to read a CSV
file
(<a href="Data/asc/USPresident_Wikipedia_URLs_Thmbs_HW.csv">USPresident_Wikipedia_URLs_Thmbs_HW.csv</a>)
with a mix of fields, and then further parse
a couple of fields to pull out year values.
<p>
This file is from <a href="http://seepeoplesoftware.com/downloads/easytable-free/11-sample-csv-file-of-us-presidents.html">http://seepeoplesoftware.com/downloads/easytable-free/11-sample-csv-file-of-us-presidents.html</a>
<p>

<a href="../Document/Functions/Built-in/asciiread.html"><strong>asciiread</strong></a> is used to read the table as strings,
and <a href="../Document/Functions/Built-in/str_get_field.html"><strong>str_get_field</strong></a> is used to read the
desired fields. <a href="../Document/Functions/Built-in/str_get_field.html"><strong>str_get_field</strong></a> is then
used again on two fields to pull the year out of
a "day/month/year" string.

</div>

<div class=ex>
<!--CSV_5-->
<a name=ex5></a>

<a href="Scripts/csv_5.html">csv_5.ncl</a>: 
CSV files with blank cells are very common in "the real world". 
The function <a href="../Document/Functions/Built-in/str_split_csv.html"><strong>str_split_csv</strong></a> makes it easy to correctly read CSV
files with empty fields as missing values. <b>Note:</b> The <a href="../Document/Functions/Built-in/tofloat.html"><strong>tofloat</strong></a> 
returns an _Fillvalue=9.96921e+36. The script manually changes this to
a 'nicer' _FillValue.
<p>
The input file, <b>test-with-missing.csv</b>, contains:
<pre>

168.0 ,157.1 
165.5 ,145.8 
164.0 ,163.3 
169.7 ,169.7 
182.8 ,168.3 
158.2 ,170.5 
155.8 ,
168.8 ,
176.0 ,
211.5 ,200.5 
214.5 ,211.6 
216.7 ,195.7 
219.0 ,193.7 
227.5 ,147.5 
243.3 ,107.7 
146.8 ,72.8 

</pre>
The output would look like:
<pre>

(0)	168   157.1
(1)	165.5   145.8
(2)	164   163.3
(3)	169.7   169.7
(4)	182.8   168.3
(5)	158.2   170.5
(6)	155.8   <b>-9999</b>
(7)	168.8   <b>-9999</b>
(8)	176   <b>-9999</b>
(9)	211.5   200.5
(10)	214.5   211.6
(11)	216.7   195.7
(12)	219   193.7
(13)	227.5   147.5
(14)	243.3   107.7
(15)	146.8   72.8
</pre>
</div>

<div class=ex>
<!--CSV_6-->
<a name=ex6></a>

<a href="Scripts/csv_6.html">csv_6.ncl</a>: Shows how to read a CSV
file
(<a href="Data/asc/479615.NorthDakota.csv">479615.NorthDakota.csv</a>)
and extract all strings with a user specified string using 
<a href="../Document/Functions/Built-in/_b_str_match_ic_regex_/b_.html"><strong><b>str_match_ic_regex</b></strong></a>.
Write the selected data to an ascii file via <a href="../Document/Functions/Built-in/asciiwrite.html"><strong>asciiwrite</strong></a>.
<p>
The original code was posted by Karin Meier-Fleischer (DKRZ) in response to an ncl-talk question.
<p>
</div>

<div class=ex>
<!--CSV_7-->
<a name=ex7></a>
<a href="Images/csv_7_lg.png">
<img src="Images/csv_7_sm.png" align=left border=2></a>
<a href="Scripts/csv_7.html">csv_7.ncl</a>: Read the CSV files
(<a href="Data/asc/479615.NorthDakota.csv">479615.NorthDakota.csv</a>)
and
(<a href="Data/asc/479615.latlon.csv">479615.latlon.csv</a>)
and extract all strings with a user specified date ('yyyymm') string using 
<a href="../Document/Functions/Built-in/_b_str_match_ic_regex_/b_.html"><strong><b>str_match_ic_regex</b></strong></a>. The 2nd ascii file is read for the latitude
and longitudes of the locations.
Write the selected data to an ascii file via <a href="../Document/Functions/Built-in/asciiwrite.html"><strong>asciiwrite</strong></a>.
<p>
Plot the random stations on a map for yyyymm. This csv file only has 10 stations with data. 
Hence, the graphics are a bit crude.
<p>
</div>

<div class=ex>
<!--CSV_8-->
<a name=ex8></a>
<a href="Images/csv_8_lg.png">
<img src="Images/csv_8_sm.png" align=left border=2></a>

<a href="Scripts/csv_8.html">csv_8.ncl</a>: Read a CSV file
(<a href="Data/asc/479615.NorthDakota.csv">479615.NorthDakota.csv</a>)
and extract all strings with a user specified station name using 
<a href="../Document/Functions/Built-in/_b_str_match_ic_regex_/b_.html"><strong><b>str_match_ic_regex</b></strong></a>.
Write the selected data to an ascii file via <a href="../Document/Functions/Built-in/asciiwrite.html"><strong>asciiwrite</strong></a>.
<p>
Plot the time series of the user specified variable for the station.
<p>
</div>

<div class=ex>
<!--CSV_9-->
<a name=ex9></a>

<a href="Scripts/csv_9.html">csv_9.ncl</a>: Shows how to read a CSV file
(<a href="Data/asc/tAL.csv">tAL.csv</a>) which contains daily data from <b>14</b> 
stations concatenated together. A sample:
<pre>

    "StationID","Year","Month","Day","Julian Day","Precip","Lat","Long"
    <b>11084</b>,1950,1,1,2433284.195625,0,31.0581,-87.0547       <=== initial station ID
     .....
    11084,2011,12,31,2455928.79375,0,31.0581,-87.0547
    <b>12813</b>,1950,1,1,2433284.195625,0,30.5467,-87.8808       <=== new station ID
     .....
    12813,2011,12,31,2455928.79375,0.0508,30.5467,-87.8808 
    <b>13160</b>,1950,1,1,2433284.195625,0,32.8347,-88.1342       <=== new station ID
     .....

</pre>
<a href="../Document/Functions/Contributed/readAsciiTable.html"><strong>readAsciiTable</strong></a> is used to input the data. 
NCL's <a href="../Document/Functions/Built-in/ind.html"><strong>ind</strong></a> function is used to select data blocks associated with each station. 
For demonstration,  a simple procedure (could be a function) is used to calculate a 
few simple statistcs.   
</div>

<div class=ex>
<a href="Scripts/ascii_delim_new.html">ascii_delim_new.ncl</a>: Shows
how to read a CSV file (<a href="Data/asc/asc5.txt">asc5.txt</a>)
that contains header information, and use this information to write
the data to a NetCDF file.
<p>

The script is rather lengthy because it does some error checking
of types.
<p>

In order to write fields to a netCDF file, the netCDF field
(variable) names cannot contain any tabs or spaces. Hence this script
removes white spaces from the beginning and end of any field names and
converts other white space to underscores ('_').  String or character
values for the fields themselves are not modified.
<p>

If you want to use this script for your own purposes, you will need to
modify the script to indicate 1) the input ASCII file name, 2) the
number of fields, 3) the delimiter, 4) the type of each field,
and 5) whether the field contains missing values.
<p>

To modify either one for your own data file, first search for the
lines:

<PRE>
;============================================================
; Main code
;============================================================
</PRE>

The lines you need to modify follow shortly:

<PRE>
  filename  = "asc5.txt"                ; ASCII file to read.
  nfields   = 6                         ; # of fields
  delimiter = ","                       ; field delimiter
  var_types      = new(nfields,string)
  var_msg        = new(nfields,string)
  var_strlens    = new(nfields,integer)   ; var to hold string lengths,
                                          ; just in case.
  .
  .
  .
  var_msg        = ""              ; Default to no missing
  var_msg(3)     = "-999"          ; Corresponds to field #4
  var_types      = "integer"       ; Default to integer
  var_types(1:2) = "float"         ; Second and third fields
  var_types(4)   = "character"     ; Corresponds to field #5
</PRE>

Change "var_types" to whatever the types of your fields are, and
"var_msg" to what the missing value should be (an empty string
indicates no missing value).
<p>

The above code is defaulting all variable types to "integer", and then
changing the 2nd and 3rd fields to type "float" and the fifth field to
type "character" (which in this case is being used as a character
array). The only field that will contain a missing value
is the fourth field.
<p>

The allowable variable types are "integer", "float", "double",
"string", or "character". Note that if you read in a variable as a
string, it won't get written to the netCDF file because only character
arrays can be written to a netCDF file.

</div>

					</div>

					<p>&nbsp;</p>

		<!-- begin footer -->
		<div id="footer">
		
		<a href="mailto:ncladmin@ucar.edu">Contact the Webmaster</a>



		<!-- end footer -->
		</div>

           <br class="clearboth"/>

	   <!-- end content -->
	</div>
<!-- end wrap -->
</div)
</BODY>

<!-- Mirrored from www.ncl.ucar.edu/Applications/read_csv.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:16:08 GMT -->
</HTML>

