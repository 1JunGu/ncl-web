<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.ncl.ucar.edu/Applications/pop2lat.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:43:12 GMT -->
<head>
<meta name="description" content="NCL graphics examples page. Describes
converting the POP ocean model grid to lat/long gridded data.">
<meta name="keywords" content="NCL, graphics, visualization, POP, ocean 
model, conversion">
<TITLE>NCL Graphics: POP ==> Lat/Lon</TITLE>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../Document/Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../Document/Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../overview.html" class="subitem">Overview</a></li>
						<li><a href="../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>						
						<li><a href="../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="list_io.html" class="subitem">File I/O</a></li>
						<li><a href="list_data.html" class="subitem">Datasets</a></li>
						<li><a href="list_maps.html" class="subitem">Maps</a></li>
						<li><a href="list_models.html" class="subitem">Models</a></li>
						<li><a href="list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../Document/Functions/list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../Document/Functions/list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../Document/Functions/index.html" class="subitem">Category Listing</a></li>
						<li><a href="../Document/Functions/list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../Document/Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../Document/Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../Document/Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../Document/Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../Document/Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../Document/Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../Document/Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../Document/Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../Document/Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../Document/Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../Document/Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../Document/Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../Document/Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../Document/Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../Document/Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../Document/Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../Document/Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../Document/Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../Document/Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../Document/Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../Document/Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../Document/Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../Document/Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../Document/Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../Document/Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../Document/Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../Document/Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../Document/Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../Document/Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../Document/Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../Document/Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../Document/Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../Document/Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../Document/Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../Document/Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../Document/Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="../Document/Tools/ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="../Document/Tools/ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="../Document/Tools/index.html" class="subitem">Tools</a></li>
					<li><a href="../Document/Tools/WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../Document/Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../Document/Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>
						<li><a href="../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">

    <h1>NCL Graphics: <a href="pop.html">POP</a> Grid to Lat/Lon Grid</h1>
    <div class=mainimage>
    <img src="Images/pop2lat_1_lg.png" align=left border=0>
    </div>
    
<div class=text>
    <b>Reminder:</b> It is <b>not</b> required to regrid POP variables prior to 
plotting.  Simply attach TLAT and TLONG coordinate arrays as attributes to the variable 
being plotted. NCL will use these coordinates.
EG: if variable "t" is to be plotted, do the following: 
    <pre> 
       t@lon2d   = f->TLONG
       t@lat2d   = f->TLAT
    </pre>
</div>
    
    <div class=text>
    The interpolation of variables on POP grids to rectilinear 
lat/lon grids and rectilinear lat/lon grids to POP grids is limited by the
existence of appropriate regrid weight files. See
the <a href="popwgtfiles.html">POP weight files</a> page for more
details.
    <p>
    The regrid weight files used to perform the interpolates
    strictly apply to the surface only because the 
    coefficients were developed so that the ocean and atmosphere models 
    could communicate flux information.  The topography reflects the surface 
    (land, sea) only.
    If you try to plot a level deeper than the surface, you may get errors 
    around boundaries (continents) since the surface topography is not 
    necessarily applicable with depth. One way to mitigate this issue is to 
    "normalize" the regridded data. This method is illustrated in <a href="pop2lat.html#ex4">Example #4</a>.
    </div>
<div class=text>
The following libraries must be loaded for grid interpolation(s):
<pre>

<b>
    load "$NCARG_ROOT/lib/ncarg/nclscripts/csm/contributed.ncl" 
    load "$NCARG_ROOT/lib/ncarg/nclscripts/csm/popRemap.ncl"
</b>

</pre>
</div>


    <div class=ex>
    <!--Pop2lat_1-->
    <a name=ex1></a>
    <a href="Images/pop2lat_1_lg.png">
    <img src="Images/pop2lat_1_sm.png" align=left border=2></a>
    <a href="Scripts/pop2lat_1.html">pop2lat_1.ncl</a>:
    <br><br>
    Uses <a href="../Document/Functions/Pop_remap/PopLatLon.html"><strong>PopLatLon</strong></a> to convert the
    pop grid to a lat/lon grid.
    <br><br>
    The arguments are:<br>
    <ul>
    <li>variable e.g. "T"</li>
    <li>original grid name e.g. "gx3"</li>
    <li>output grid name e.g. "T62"</li>
    <li>weight method e.g. "bilin" or "aave" for bilinear or area 
    averaged</li>
    <li>type of weights e.g. "da", for destarea, or "fa"</li>
    <li>time on grid file</li>
    </ul>
    </div>

    <div class=ex>
    <!--Pop2lat_2-->
    <a name=ex2></a>
    <a href="Images/pop2lat_2_lg.png">
    <img src="Images/pop2lat_2_sm.png" align=left border=2></a>
    <a href="Scripts/pop2lat_2.html">pop2lat_2.ncl</a>:
    <br><br>
    Uses <a href="../Document/Functions/Pop_remap/PopLatLonV.html"><strong>PopLatLonV</strong></a> to convert the
    vectors on the pop grid to a lat/lon grid.
    <br><br>
    The arguments are the same as example 1 above except that we pass in
    u and v.
    </div>

    <div class=ex>
    <!--Pop2lat_3-->
    <a name=ex3></a>
    <a href="Images/pop2lat_3_lg.png">
    <img src="Images/pop2lat_3_sm.png" align=left border=2></a>
    <a href="Scripts/pop2lat_3.html">pop2lat_3.ncl</a>:
    <p>
    A slice plot. After converting to a regular grid, coordinate
    subscripting can be used to select a specific latitude or longitude.
    
    </p></div>

    <div class=ex>
    <!--Pop2lat_4-->
    <a name=ex4></a>
    <a href="Images/pop2lat_4_1_lg.png">
    <img src="Images/pop2lat_4_1_sm.png" align=left border=2></a>
    <a href="Images/pop2lat_4_2_lg.png">
    <img src="Images/pop2lat_4_2_sm.png" align=left border=2></a>
    <a href="Scripts/pop2lat_4.html">pop2lat_4.ncl</a>:
    <p>
    Shows how to eliminate errors along coastlines when regridding at depths other than
    the surface. The first paneled plot shows the data on the original POP grid (top), the 
    data after regridding (middle), and the data after using the normalized regridding method (bottom).
    The second paneled plot shows the same data as the first but it is zoomed in on the North Atlantic.
    </p>
    <p>
    Note the areas of incorrect data along the coastlines of eastern North America, the North Atlantic, 
    Australia, and East Asia in the middle panel. Those areas are corrected in the normalize 
    regridding method shown in the bottom panel, and explained below.</p>
    <p>
    The normalized regridding method involves:
    <ol><li>Regrid the data on the POP grid to a regular lat/lon grid using <a href="../Document/Functions/Pop_remap/PopLatLon.html"><strong>PopLatLon</strong></a>.
    <li>Take the original POP data array, and set it to 0 for land points and 1 for ocean points.
    <li>Regrid the 0/1 array created in step 2) using <a href="../Document/Functions/Pop_remap/PopLatLon.html"><strong>PopLatLon</strong></a>.
    <li>Using the dataset created in 3), set all areas that are = 0 to @_FillValue.
    <li>Divide the regridded dataset created in step 1 by the normalized regridded dataset 
        created in steps 3 and 4.</ul> </p>
    </div>


</div>
</body>

<!-- Mirrored from www.ncl.ucar.edu/Applications/pop2lat.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:43:15 GMT -->
</html>


