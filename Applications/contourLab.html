<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.ncl.ucar.edu/Applications/contourLab.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:12:40 GMT -->
<head>
<meta name="description" content="NCL graphics examples page. Describes
the use of contour labels.">
<meta name="keywords" content="NCL, graphics, visualization, contour labels">
<TITLE>NCL Graphics: Contour Labels</TITLE>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../Document/Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../Document/Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../overview.html" class="subitem">Overview</a></li>
						<li><a href="../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>						
						<li><a href="../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="list_io.html" class="subitem">File I/O</a></li>
						<li><a href="list_data.html" class="subitem">Datasets</a></li>
						<li><a href="list_maps.html" class="subitem">Maps</a></li>
						<li><a href="list_models.html" class="subitem">Models</a></li>
						<li><a href="list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../Document/Functions/list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../Document/Functions/list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../Document/Functions/index.html" class="subitem">Category Listing</a></li>
						<li><a href="../Document/Functions/list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../Document/Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../Document/Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../Document/Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../Document/Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../Document/Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../Document/Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../Document/Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../Document/Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../Document/Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../Document/Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../Document/Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../Document/Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../Document/Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../Document/Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../Document/Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../Document/Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../Document/Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../Document/Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../Document/Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../Document/Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../Document/Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../Document/Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../Document/Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../Document/Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../Document/Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../Document/Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../Document/Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../Document/Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../Document/Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../Document/Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../Document/Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../Document/Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../Document/Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../Document/Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../Document/Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../Document/Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="../Document/Tools/ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="../Document/Tools/ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="../Document/Tools/index.html" class="subitem">Tools</a></li>
					<li><a href="../Document/Tools/WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../Document/Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../Document/Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>
						<li><a href="../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">

    <a class=crumb href="../index-2.html">NCL Home></a>
<a class=crumb href="index-2.html">Application examples></a>
<a class=crumb href="list_tech.html">Plot techniques</a>
    <h1>NCL Graphics: Contour Labels</h1>

    <div class=mainimage>
    <img src="Images/conLab_1_1_lg.png" align=left border=0></a>
    </div>

    <div class=text>

    This page shows how to fine tune your contour labels. It can
    be a bit tricky to get the contour labels to appear where you
    want, because there is a complicated internal algorithm that
    determines the placement of labels.
    <p>
    In some cases, when you panel your plots, the contour labels
    will disappear even though they may show up in the original
    large plots. This is because when you resize a plot to fit 
    in a panel, NCL will remove some labels that are very small
    contours, in order to avoid overlap. See example <a href="#ex6">conLab_6.ncl</a>
    below for a way to fix this. 
    </div>

    <div class=ex>
    <!--conLab_1-->
    <a name=ex1></a>
    <a href="Images/conLab_1_1_lg.png">
    <img src="Images/conLab_1_1_sm.png" align=left border=2></a>
    <a href="Images/conLab_1_2_lg.png">
    <img src="Images/conLab_1_2_sm.png" align=left border=2></a>
    <a href="Images/conLab_1_3_lg.png">
    <img src="Images/conLab_1_3_sm.png" align=left border=2></a>
    <a href="Scripts/conLab_1.html">conLab_1.ncl</a>: Demonstrates the 
    default behavior of three modes of contour labeling.
    <br><br>
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelPlacementMode"><em>cnLineLabelPlacementMode</em></a> can
    be set to randomized (default), constant, or computed. Note that
    only the constant method makes the label part of the line so that
    the line is not drawn through it.
    </div>

    <div class=ex>
    <!--conLab_2-->
    <a name=ex2></a>
    <a href="Images/conLab_2_lg.png">
    <img src="Images/conLab_2_sm.png" align=left border=2></a>
    <a href="Scripts/conLab_2.html">conLab_2.ncl</a>: Uses several resources
    to mimic the behavior of "constant" masking in example 1.
    <br><br>
    The resource
    <a href="../Document/Graphics/Resources/cn.html#cnLabelMasking"><em>cnLabelMasking</em></a> has been
    modified (version 4.2.0.a027 or later) that allows the user to
    mask the contour labels. See the script for the other resources
    that were used.
    </div>

    <div class=ex>
    <!--conLab_3-->
    <a name=ex3></a>
    <a href="Images/conLab_3_lg.png">
    <img src="Images/conLab_3_sm.png" align=left border=2></a>
    <a href="Scripts/conLab_3.html">conLab_3.ncl</a>: Uses various resources to modify the
    spacing and number of line labels.
    <br><br>
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelInterval"><em>cnLineLabelInterval</em></a>
    determines what sequential contours are labeled.  The default is
    every other contour line (value=2).<br>
    <a href="../Document/Graphics/Resources/cn.html#cnLineDashSegLenF"><em>cnLineDashSegLenF</em></a> normally
    controls the length of dash lines, but it also has an effect on
    contour labeling when
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelPlacementMode"><em>cnLineLabelPlacementMode</em></a> is
    set to constant. With this placement mode, the labels are actually
    part of the line, so
    <a href="../Document/Graphics/Resources/cn.html#cnLineDashSegLenF"><em>cnLineDashSegLenF</em></a> controls
    label spacing.
    </div>

    <div class=ex>
    <!--conLab_4-->
    <a name=ex4></a>
    <a href="Images/conLab_4_lg.png">
    <img src="Images/conLab_4_sm.png" align=left border=2></a>
    <a href="Scripts/conLab_4.html">conLab_4.ncl</a>: Demonstrates
    drawing labels with a background color. 
    <br><br>
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelBackgroundColor"><em>cnLineLabelBackgroundColor</em></a>
    allows you to choose a color. The default is transparent. This
    resource can not be used with a
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelPlacementMode"><em>cnLineLabelPlacementMode</em></a> = constant.
    <p>
    A Python version of this projection is available <a href="https://geocat-examples.readthedocs.io/en/latest/gallery/Contours/NCL_conLab_4.html#sphx-glr-gallery-contours-ncl-conlab-4-py">here</a>.
    </div>

    <div class=ex>
    <!--conLab_5-->
    <a name=ex5></a>
    <a href="Images/conLab_5_1_lg.png">
    <img src="Images/conLab_5_1_sm.png" align=left border=2></a>
    <a href="Images/conLab_5_2_lg.png">
    <img src="Images/conLab_5_2_sm.png" align=left border=2></a>
    <a href="Scripts/conLab_5.html">conLab_5.ncl</a>: Demonstrates a new
    label density resource available since NCL version 4.2.0.a031 or later.
    <br><br>
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelDensityF"><em>cnLineLabelDensityF</em></a> can
    increase or decrease the number of labels along a contour
    line. The default value for this resource is 0.0, no change.
    Values greater than 0.0 increase the number of line labels while
    negative values decrease the number of line labels. The resource
    does not work if
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelPlacementMode"><em>cnLineLabelPlacementMode</em></a> is
    set to "constant".
    <br><br>
    Not that the effect is dependent upon the data to be plotted, the 
    format of the labels, and various other variables. Therefore, there is
    no general relationship between the value chosen and the number of 
    labels. It will be plot dependent.
    </div>

    <div class=ex>
    <!--conLab_6-->
    <a name=ex6></a>
    <a href="Images/conLab_6_lg.png">
    <img src="Images/conLab_6_sm.png" align=left border=2></a>
    <a href="Scripts/conLab_6.html">conLab_6.ncl</a>: 
    Demonstrates how easy it is to alter the appearance and frequency of line labels. <br><br>
    Plot #1 (top) shows the default NCL line labeling. Plot #2 (middle) uses 
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelDensityF"><em>cnLineLabelDensityF</em></a> to increase
    the number of line labels, and 
    <a href="../Document/Graphics/Resources/cn.html#cnLineLabelInterval"><em>cnLineLabelInterval</em></a> to label
    every line instead of the default every other line. Plot #3
    (bottom) uses
    <a href="../Document/Graphics/Resources/cn.html#cnLabelMasking"><em>cnLabelMasking</em></a> to wipe out the contour
    line behind each line label, thereby making the line labels easier to read.
    </div>

<div class=ex>
<!--conLab_7-->
<a name=ex7></a>
<a href="Images/conLab_7_1_lg.png">
<img src="Images/conLab_7_1_sm.png" align=left border=2></a>
<a href="Images/conLab_7_2_lg.png">
<img src="Images/conLab_7_2_sm.png" align=left border=2></a>
<a href="Scripts/conLab_7.html">conLab_7.ncl</a>: 

Demonstrates how to control which contour lines have labels using
the <a href="../Document/Graphics/Resources/cn.html#cnLevelFlags"><em>cnLevelFlags</em></a> resource.<p>

First the plot is created,
and <a href="../Document/Manuals/Ref_Manual/NclStatements.html#getvalues">getvalues</a>
is used to retrieve the contour levels via the
<a href="../Document/Graphics/Resources/cn.html#cnLevels"><em>cnLevels</em></a> resource. A new "flags"
array is created of the same size as the "levels" array. We loop
through the levels and set this "flags" array to "LineOnly" for negative
contours, and "LineAndLabel" for zero and positive contours.  Finally,
<a href="../Document/Manuals/Ref_Manual/NclStatements.html#setvalues">setvalues</a> is used to set the 
<a href="../Document/Graphics/Resources/cn.html#cnLevelFlags"><em>cnLevelFlags</em></a> resource and change
the title.
<p>

Note: in this case, both the original plot and the modified plot are drawn.
If you don't want to draw the first plot, simply set
res@<a href="../Document/Graphics/Resources/gsn.html#gsnDraw"><em>gsnDraw</em></a>  and 
res@<a href="../Document/Graphics/Resources/gsn.html#gsnFrame"><em>gsnFrame</em></a>  to False.

</div>

<div class=ex>
<!--conLab_8-->
<a name=ex8></a>
<a href="Images/conLab_8_1_lg.png">
<img src="Images/conLab_8_1_sm.png" align=left border=2></a>
<a href="Images/conLab_8_2_lg.png">
<img src="Images/conLab_8_2_sm.png" align=left border=2></a>
<a href="Scripts/conLab_8.html">conLab_8.ncl</a>: Shows how
to force the contour line labels to have a certain number
of significant digits, using the 
<a href="../Document/Graphics/Resources/cn.html#cnLineLabelFormat"><em>cnLineLabelFormat</em></a> resource. 
<p>

The first image shows the default labels, and the second image
was created by setting both 
<a href="../Document/Graphics/Resources/cn.html#cnLineLabelFormat"><em>cnLineLabelFormat</em></a> resource
and <a href="../Document/Graphics/Resources/lb.html#lbLabelStrings"><em>lbLabelStrings</em></a>, to format
both the contour line labels and the labelbar labels.
<p>

The string to use with the
<a href="../Document/Graphics/Resources/cn.html#cnLineLabelFormat"><em>cnLineLabelFormat</em></a> resource can be
a bit confusing.  See tickmark
example <a href="tickmarks.html#ex8">tm_8.ncl</a>,
which illustrates the various strings you can use. These same strings
can be applied for this resource.
<p>


</div>
					</div>

					<p>&nbsp;</p>

		<!-- begin footer -->
		<div id="footer">
		
		<a href="mailto:ncladmin@ucar.edu">Contact the Webmaster</a>



		<!-- end footer -->
		</div>

           <br class="clearboth"/>

	   <!-- end content -->
	</div>
<!-- end wrap -->
</div>
</body>

<!-- Mirrored from www.ncl.ucar.edu/Applications/contourLab.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:12:48 GMT -->
</html>


