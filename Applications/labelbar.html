<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.ncl.ucar.edu/Applications/labelbar.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:13:34 GMT -->
<head>
<meta name="description" content="NCL graphics examples page. Describes
the use of label bars.">
<meta name="keywords" content="NCL, graphics, visualization, color, 
labelbars">
<TITLE>NCL Graphics: Label Bars</TITLE>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../Document/Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../Document/Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../overview.html" class="subitem">Overview</a></li>
						<li><a href="../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>						
						<li><a href="../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="list_io.html" class="subitem">File I/O</a></li>
						<li><a href="list_data.html" class="subitem">Datasets</a></li>
						<li><a href="list_maps.html" class="subitem">Maps</a></li>
						<li><a href="list_models.html" class="subitem">Models</a></li>
						<li><a href="list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../Document/Functions/list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../Document/Functions/list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../Document/Functions/index.html" class="subitem">Category Listing</a></li>
						<li><a href="../Document/Functions/list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../Document/Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../Document/Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../Document/Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../Document/Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../Document/Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../Document/Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../Document/Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../Document/Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../Document/Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../Document/Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../Document/Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../Document/Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../Document/Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../Document/Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../Document/Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../Document/Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../Document/Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../Document/Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../Document/Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../Document/Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../Document/Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../Document/Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../Document/Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../Document/Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../Document/Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../Document/Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../Document/Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../Document/Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../Document/Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../Document/Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../Document/Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../Document/Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../Document/Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../Document/Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../Document/Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../Document/Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../Document/Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="../Document/Tools/ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="../Document/Tools/ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="../Document/Tools/index.html" class="subitem">Tools</a></li>
					<li><a href="../Document/Tools/WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../Document/Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../Document/Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../Document/index.html" class="subitem">Documentation</a></li>
						<li><a href="../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">

<a class=crumb href="../index-2.html">NCL Home></a>
<a class=crumb href="index-2.html">Application examples></a>
<a class=crumb href="list_tech.html">Plot techniques</a>
<h1>NCL Graphics: Label Bars</h1>
<div class=mainimage>
<img src="Images/lb_3_lg.png" align=left border=0></a>
</div>

<div class=text>

Labelbars are annotations that are created automatically when
you create a filled contour or vector plot (not to be confused
with legends which are associated with XY plots).
<p>

There are many resources that customize label bars. This page will
demonstrate only those we think will be commonly used. You can peruse
the list of label
bar <a href="../Document/Graphics/Resources/lb.html">resources</a> for
other options.
<p>

You can create your own labelbar using functions
like <a href="../Document/Graphics/Interfaces/gsn_create_labelbar.html"><strong>gsn_create_labelbar</strong></a>
and <a href="../Document/Graphics/Interfaces/gsn_labelbar_ndc.html"><strong>gsn_labelbar_ndc</strong></a>.
The  <a href="../Document/Graphics/Interfaces/gsn_add_annotation.html"><strong>gsn_add_annotation</strong></a> function
allows you to attach a labelbar created with 
<a href="../Document/Graphics/Interfaces/gsn_create_labelbar.html"><strong>gsn_create_labelbar</strong></a> to a plot (see
example 11 below).
<p>


</div>

<div class=ex>
<!--Lb_1-->
<a name=ex1></a>
<a href="Images/lb_1_lg.png">
<img src="Images/lb_1_sm.png" align=left border=2></a>
<a href="Scripts/lb_1.html">lb_1.ncl</a>: Demonstrates a default
color bar. The default position is horizontal.
<p>

For the <a href="../Document/Graphics/Interfaces/index.html">gsn_csm</a> graphical
interfaces, setting <a href="../Document/Graphics/Resources/cn.html#cnFillOn"><em>cnFillOn</em></a> =
True, automatically creates a color bar.
<p>

<a href="../Document/Graphics/Resources/lb.html#lbLabelBarOn"><em>lbLabelBarOn</em></a> = False, Will turn off
the label bar.

</div>

<div class=ex>
<!--Lb_2-->
<a name=ex2></a>
<a href="Images/lb_2_lg.png">
<img src="Images/lb_2_sm.png" align=left border=2></a>
<a href="Scripts/lb_2.html">lb_2.ncl</a>: Vertical label bar and
explicit labels.
<p>

<a href="../Document/Graphics/Resources/lb.html#lbOrientation"><em>lbOrientation</em></a> = "vertical", Moves
the label bar to the right side vertical.
<p>

You can specify your own labels by setting <a href="../Document/Graphics/Resources/lb.html#lbLabelStrings"><em>lbLabelStrings</em></a> equal to an array of
strings. Here we chose other numbers, but the string could have any
value.
<p>
A Python version of this projection is available <a href="https://geocat-examples.readthedocs.io/en/latest/gallery/Contours/NCL_lb_2.html#sphx-glr-gallery-contours-ncl-lb-2-py">here</a>.

</div>

<div class=ex>
<!--Lb_3-->
<a name=ex3></a>
<a href="Images/lb_3_lg.png">
<img src="Images/lb_3_sm.png" align=left border=2></a>
<a href="Scripts/lb_3.html">lb_3.ncl</a>: Large angled labels plus
adding a title.
<p>

<a href="../Document/Graphics/Resources/lb.html#lbLabelAngleF"><em>lbLabelAngleF</em></a>, Controls the angle of
the labels while <a href="../Document/Graphics/Resources/lb.html#lbLabelFontHeightF"><em>lbLabelFontHeightF</em></a>,
Controls the size of the labels.

<p>

A title can be added to the label bar by setting <a href="../Document/Graphics/Resources/lb.html#lbTitleOn"><em>lbTitleOn</em></a> equal to True, and providing a
string using <a href="../Document/Graphics/Resources/lb.html#lbTitleString"><em>lbTitleString</em></a>. The
default position of the title is on top of the label bar. Example 4
demonstrates how to move the label bar title. The size of the label
bar title can be changed with <a href="../Document/Graphics/Resources/lb.html#lbTitleFontHeightF"><em>lbTitleFontHeightF</em></a>.

<p>

In this example, we needed to move the entire label bar down b/c the
oversized labels ran into the plot.  <a href="../Document/Graphics/Resources/pm.html#pmLabelBarOrthogonalPosF"><em>pmLabelBarOrthogonalPosF</em></a> adjust the label
bar position perpendicular to the main plot axis. Note that this is a
<em>pm</em> or <a href="../Document/Graphics/Resources/pm.html">plot
manager</a> resource.
<p>
A Python version of this projection is available <a href="https://geocat-examples.readthedocs.io/en/latest/gallery/Contours/NCL_lb_3.html#sphx-glr-gallery-contours-ncl-lb-3-py">here</a>.

</div>

<div class=ex>
<!--Lb_4-->
<a name=ex4></a>
<a href="Images/lb_4_lg.png">
<img src="Images/lb_4_sm.png" align=left border=2></a>
<a href="Scripts/lb_4.html">lb_4.ncl</a>: Title on the side, labels
in the center.
<p>

<a href="../Document/Graphics/Resources/lb.html#lbTitlePosition"><em>lbTitlePosition</em></a> = "Right", Moves the
title from its default top position to the right. Other options
include bottom and left. If the title position is top or bottom, the
default orientation of the title string is across. It is down if the
title position is left or right. Here we override this default by
changing the title orientation to across using <a href="../Document/Graphics/Resources/lb.html#lbTitleDirection"><em>lbTitleDirection</em></a>.
<p>

The default position of the labels for the <a
href="../Document/Graphics/Interfaces/index.html">gsn_csm</a> interfaces is
<a href="../Document/Graphics/Resources/lb.html#lbLabelAlignment"><em>lbLabelAlignment</em></a> = "InteriorEdges".
We have changed this to the center using <a href="../Document/Graphics/Resources/lb.html#lbLabelAlignment"><em>lbLabelAlignment</em></a> = "BoxCenters".
<p>

The default label position is bottom, but this can be changed using
<a href="../Document/Graphics/Resources/lb.html#lbLabelPosition"><em>lbLabelPosition</em></a>.
<p>

The labels were made bolder by changing the <a
href="../Document/Graphics/font_tables.html">font</a> using <a href="../Document/Graphics/Resources/lb.html#lbLabelFont"><em>lbLabelFont</em></a>.
<p>
A Python version of this projection is available <a href="https://geocat-examples.readthedocs.io/en/latest/gallery/Contours/NCL_lb_4.html#sphx-glr-gallery-contours-ncl-lb-4-py">here</a>.

</div>

<div class=ex>
<!--Lb_5-->
<a name=ex5></a>
<a href="Images/lb_5_lg.png">
<img src="Images/lb_5_sm.png" align=left border=2></a>
<a href="Scripts/lb_5.html">lb_5.ncl</a>: How to create a label bar
from scratch.
<p>

As we indicated in the first example, the <a
href="../Document/Graphics/Interfaces/index.html">gsn_csm</a> graphical interfaces
automatically create a label bar if color is turned on. If you use the
generic graphical interfaces then you may need to create a label bar
from scratch.
<p>

To turn on and modify a label bar, you must first set <a href="../Document/Graphics/Resources/lb.html#lbAutoManage"><em>lbAutoManage</em></a> = False, and <a href="../Document/Graphics/Resources/pm.html#pmLabelBarDisplayMode"><em>pmLabelBarDisplayMode</em></a> = "Always".
<p>

The default orientation of the label bar in NCL is Vertical, and the
default side is Right. We change these with <a href="../Document/Graphics/Resources/lb.html#lbOrientation"><em>lbOrientation</em></a> and <a href="../Document/Graphics/Resources/pm.html#pmLabelBarSide"><em>pmLabelBarSide</em></a> respectively.
<p>

The default label bar width and height is shorter and taller than our
aesthetic preference.  Additionally, the default label font height is
huge, and a box is draw around the label bar. We have modified these
features using <a href="../Document/Graphics/Resources/pm.html#pmLabelBarWidthF"><em>pmLabelBarWidthF</em></a>,
<a href="../Document/Graphics/Resources/pm.html#pmLabelBarHeightF"><em>pmLabelBarHeightF</em></a>, <a href="../Document/Graphics/Resources/lb.html#lbLabelFontHeightF"><em>lbLabelFontHeightF</em></a>, and <a href="../Document/Graphics/Resources/lb.html#lbPerimOn"><em>lbPerimOn</em></a>.
<p>

The number of labels on the label bar can be adjusted by setting
<a href="../Document/Graphics/Resources/lb.html#lbLabelStride"><em>lbLabelStride</em></a> to some integer
value. You can also
use <a href="../Document/Graphics/Resources/lb.html#lbLabelAutoStride"><em>lbLabelAutoStride</em></a> which
automatically determines if there is a label overlap and adjusts the
stride accordingly (as
of <a href="../prev_releases.html#6.1.0">V6.1.0</a>, this resource will
be True by default).

</div>

<div class=ex>
<!--Lb_6-->
<a name=ex6></a>
<a href="Images/lb_6_lg.png">
<img src="Images/lb_6_sm.png" align=left border=2></a>
<a href="Scripts/lb_6.html">lb_6.ncl</a>: Reverses the colormap.
<p>

The three resources (available since NCL version 4.2.0.a020) needed to
reverse a colormap are: <a href="../Document/Graphics/Resources/gsn.html#gsnSpreadColors"><em>gsnSpreadColors</em></a>=
True <br> <a href="../Document/Graphics/Resources/gsn.html#gsnSpreadColorStart"><em>gsnSpreadColorStart</em></a>= -1, starts
the colormap at the last color.  <a href="../Document/Graphics/Resources/gsn.html#gsnSpreadColorEnd"><em>gsnSpreadColorEnd</em></a> = 2, Begins the colormap at the
beginning of the colormap.

</div>
    
<div class=ex>
<!--Lb_7-->
<a name=ex7></a>
<a href="Images/lb_7_lg.png">
<img src="Images/lb_7_sm.png" align=left border=2></a>
<a href="Scripts/lb_7.html">lb_7.ncl</a>: Changes the format
of the label bar labels so that they are all the same. The default
is not pretty when there is a different number of decimal places.
<p>

<a href="../Document/Functions/Built-in/sprintf.html"><strong>sprintf</strong></a> is the function we can use to reformat the
labels.  Unfortunately, this has to be done after the plot is drawn
because there is no way to do it a priori.

</div>

<div class=ex>
<!--Lb_8-->
<a name=ex8></a>
<a href="Images/lb_8_lg.png">
<img src="Images/lb_8_sm.png" align=left border=2></a>
<a href="Scripts/lb_8.html">lb_8.ncl</a>: Automatically choose best
label bar stride.
<p>

<a href="../Document/Graphics/Resources/lb.html#lbLabelAutoStride"><em>lbLabelAutoStride</em></a> will automatically
determine the best stride for a label bar if it senses an overlap (as
of <a href="../prev_releases.html#6.1.0">V6.1.0</a>, this resource will
be True by default).

</div>

<div class=ex>
<!--Lb_9-->
<a name=ex9></a>
<a href="Images/lb_9_1_lg.png">
<img src="Images/lb_9_1_sm.png" align=left border=2></a>
<a href="Images/lb_9_2_lg.png">
<img src="Images/lb_9_2_sm.png" align=left border=2></a>
<a href="Images/lb_9_3_lg.png">
<img src="Images/lb_9_3_sm.png" align=left border=2></a>
<a href="Scripts/lb_9.html">lb_9.ncl</a>: Demonstrates how to create your
own label bar outside of a plot template call. 
<p>
<a href="../Document/Graphics/Interfaces/gsn_labelbar_ndc.html"><strong>gsn_labelbar_ndc</strong></a> is the function
that will draw your own label bar.  You can use any of the resources
demonstrated on this page to adjust the style of the label bar.
<p>

The first frame draws solid-filled labelbars. The second
frame draws pattern-filled labelbars by setting
<a href="../Document/Graphics/Resources/lb.html#lbMonoFillPattern"><em>lbMonoFillPattern</em></a> to False and
setting <a href="../Document/Graphics/Resources/lb.html#lbFillPatterns"><em>lbFillPatterns</em></a> to an array
of <a href="../Document/Graphics/fill_patterns.html">fill
patterns</a>. The width of the pattern lines are increased by setting
<a href="../Document/Graphics/Resources/lb.html#lbFillLineThicknessF"><em>lbFillLineThicknessF</em></a> = 2.0.
The third frame increases the density of the fill
pattern with
<a href="../Document/Graphics/Resources/lb.html#lbFillScaleF"><em>lbFillScaleF</em></a> = 0.5.
<p>
Note that <a href="../Document/Graphics/Resources/gsn.html#gsnSpreadColors"><em>gsnSpreadColors</em></a> does not work
on this label bar. See script for discussion and solution.

</div>
    
<div class=ex>
<!--Lb_10-->
<a name=ex10></a>
<a href="Images/lb_10_lg.png">
<img src="Images/lb_10_sm.png" align=left border=2></a>
<a href="Scripts/lb_10.html">lb_10.ncl</a>: Demonstrates how to add end 
labels to a label bar.
<p>

The old method (before <a
href="../prev_releases.html#5.0.0">V5.0.0</a>) was to set <a href="../Document/Graphics/Resources/cn.html#cnLabelBarEndLabelsOn"><em>cnLabelBarEndLabelsOn</em></a> to True.  This has
been deprecated, and you should now set <a href="../Document/Graphics/Resources/cn.html#cnLabelBarEndStyle"><em>cnLabelBarEndStyle</em></a> to
"IncludeMinMaxLabels". This will turn on labels at the ends of a label
bar, using the min and max values of your data.

</div>

<div class=ex>
<!--Lb_11-->
<a name=ex11></a>
<a href="Images/lb_11_1_lg.png">
<img src="Images/lb_11_1_sm.png" align=left border=2></a>
<a href="Images/lb_11_2_lg.png">
<img src="Images/lb_11_2_sm.png" align=left border=2></a> 
<a href="Scripts/lb_11.html">lb_11.ncl</a>: Demonstrates how to attach
a labelbar to a plot.
<p>

<a href="../Document/Graphics/Interfaces/gsn_create_labelbar.html"><strong>gsn_create_labelbar</strong></a> is
similar to <a href="../Document/Graphics/Interfaces/gsn_labelbar_ndc.html"><strong>gsn_labelbar_ndc</strong></a> except
it returns an id that allows you to attach the labelbar to the plot
using <a href="../Document/Graphics/Interfaces/gsn_add_annotation.html"><strong>gsn_add_annotation</strong></a>.
<p>

The second frame shows how if you resize the plot, the labelbar
automatically gets resized.

</div>

<div class=ex>
<!--Lb_12-->
<a name=ex12></a>
<a href="Images/lb_12_1_lg.png">
<img src="Images/lb_12_1_sm.png" align=left border=2></a>
<a href="Images/lb_12_2_lg.png">
<img src="Images/lb_12_2_sm.png" align=left border=2></a> 
<a href="Images/lb_12_3_lg.png">
<img src="Images/lb_12_3_sm.png" align=left border=2></a> 
<a href="Scripts/lb_12.html">lb_12.ncl</a>: Demonstrates various ways
to control the end boxes of a labelbar.
<p>

A new contour resource called <a href="../Document/Graphics/Resources/cn.html#cnLabelBarEndStyle"><em>cnLabelBarEndStyle</em></a> was added in <a
href="../prev_releases.html#5.0.0">V5.0.0</a>. You can
set this resource to one of three values to control how the
end labelbar boxes are handled:

<ul>

<li>"IncludeOuterBoxes" (frame 1, the default) - the first and last labels,
representing the minimum and maximum contour levels, are aligned with
the interior boundaries of the outer boxes.

<li>"IncludeMinMaxLabels" (frame 2) - the outer edges of the labelbar boxes
are labeled with the min/max of the data.

<li>"ExcludeOuterBoxes" (frame 3) - the two outermost boxes are
removed.

</ul>
</div>

<div class=ex>
<!--Lb_13-->
<a name=ex13></a>
<a href="Images/lb_13_lg.png">
<img src="Images/lb_13_sm.png" align=left border=2></a>
<a href="Scripts/lb_13.html">lb_13.ncl</a>: Demonstrates 
how to finely control a labelbar with regard to size and
position.
<p>

This detailed discussion is from a posting from Dave Brown, who also
provided the script:
<p>

By default, with <a href="../Document/Graphics/Resources/lb.html#lbAutoManage"><em>lbAutoManage</em></a> set to
True, the LabelBar code makes sure that all elements of the LabelBar
fit inside the width and height specified using <a href="../Document/Graphics/Resources/vp.html#vpWidthF"><em>vpWidthF</em></a> and <a href="../Document/Graphics/Resources/vp.html#vpHeightF"><em>vpHeightF</em></a>. This requires that the LabelBar
controls the font height of the labels. However, depending on other
constraints, this often leads to text that is too small.  To achieve
control of the font height, you need to turn <a href="../Document/Graphics/Resources/lb.html#lbAutoManage"><em>lbAutoManage</em></a> off. Once the user controls the
font height, the LabelBar can no longer ensure that everything will
fit inside the specified width and height, but it still tries to if it
can.
<p>

A significant resource is <a href="../Document/Graphics/Resources/lb.html#lbBoxMinorExtentF"><em>lbBoxMinorExtentF</em></a>.  This specifies the
proportion of the space in the direction perpendicular to the labelbar
orientation that is occupied by the labelbar. By default it is 0.33,
or 1/3 of the width specified by <a href="../Document/Graphics/Resources/vp.html#vpWidthF"><em>vpWidthF</em></a> in the case of a vertically oriented
labelbar.
<p>

The total width is accounted for by five elements:

<ol>
<li>the left margin

<li>the labelbar (box) width

<li>the label offset (which specifies a space between the labelbar and
the labels)

<li>the width of the longest text string

<li>the right margin
</ol>
<p>

If all of these together amount to less than the width specified by
<a href="../Document/Graphics/Resources/vp.html#vpWidthF"><em>vpWidthF</em></a>, then the labelbar and the text
are centered within the available width. This is what leads to the
variable distance from the specified position of the top left corner
of the labelbar.  
<p>

To ensure that the top-left corner of the labelbar falls on the
specified point, set the resources as follows:
<pre>
<a href="../Document/Graphics/Resources/lb.html#lbJustification"><em>lbJustification</em></a> = "topleft"
<a href="../Document/Graphics/Resources/lb.html#lbLeftMarginF"><em>lbLeftMarginF</em></a> = 0.0

<a href="../Document/Graphics/Resources/lb.html#lbTopMarginF"><em>lbTopMarginF</em></a> = 0.0 ; eliminate any margin at
                   ; the top and left of the labelbar

<a href="../Document/Graphics/Resources/lb.html#lbBoxMinorExtentF"><em>lbBoxMinorExtentF</em></a> = 1.0 ; this makes the labelbar 
                        ; width equal to the full amount of <a href="../Document/Graphics/Resources/vp.html#vpWidthF"><em>vpWidthF</em></a>.
</pre>
<p>

As a side effect, this results in the labels being drawn entirely
outside the labelbar viewport <a href="../Document/Graphics/Resources/vp.html#vpWidthF"><em>vpWidthF</em></a> =
.03 ; reduced from 0.1 to maintain approximately the labelbar width of
the original plot.  <a href="../Document/Graphics/Resources/lb.html#lbLabelOffsetF"><em>lbLabelOffsetF</em></a> =
.5 ; this specifies the offset between the labelbar and the labels as
a fraction of <a href="../Document/Graphics/Resources/lb.html#lbLabelOffsetF"><em>lbLabelOffsetF</em></a> (for a
vertically oriented labelbar). Since <a href="../Document/Graphics/Resources/lb.html#lbLabelOffsetF"><em>lbLabelOffsetF</em></a> has become smaller, this
value needs to be increased to maintain approximately the original
distance between the labelbar and the labels.

</div>

<div class=ex>
<!--Rose_5-->
<a name=ex5></a>
<a href="Images/rose_5_lg.png">
<img src="Images/rose_5_sm.png" align=left border=2></a>
<a href="Scripts/rose_5.html">rose_5.ncl</a>: Add a color label to indicate wind s
peeds. (<b>Thanks</b> to Zhiyong Wu, Sun Yat-sen University Guangzhou, China
for contributing the label bar code.)
</div>

<div class=ex>
<!--Lb_14-->
<a name=ex14></a>
<a href="Images/lb_14_1_lg.png">
<img src="Images/lb_14_1_sm.png" align=left border=2></a>
<a href="Images/lb_14_2_lg.png">
<img src="Images/lb_14_2_sm.png" align=left border=2></a>
<a href="Images/lb_14_3_lg.png">
<img src="Images/lb_14_3_sm.png" align=left border=2></a>

<a href="Scripts/lb_14.html">lb_14.ncl</a>: Demonstrates the various
ways you can change the labels on a labelbar, using three different
modes for <a href="../Document/Graphics/Resources/lb.html#lbLabelAlignment"><em>lbLabelAlignment</em></a>:
"InteriorEdges" (the default), "BoxCenters", and "ExternalEdges".
<p>
If you use "BoxCenters" or "ExternalEdges", you have to provide
the extra labels via <a href="../Document/Graphics/Resources/lb.html#lbLabelStrings"><em>lbLabelStrings</em></a>.

</div>

<div class=ex>
<!--Lb_15-->
<a name=ex15></a>
<a href="Images/lb_15_1_lg.png">
<img src="Images/lb_15_1_sm.png" align=left border=2></a>
<a href="Images/lb_15_2_lg.png">
<img src="Images/lb_15_2_sm.png" align=left border=2></a>

<a href="Scripts/lb_15.html">lb_15.ncl</a>: Demonstrates how to
reverse a labelbar associated with a contour plot. This method
should also work for a vector plot.
<p>

You need to do this after the plot is created, because there's no
resource that reverses the labelbar for
you. The <a href="../Document/Graphics/Resources/pm.html#pmAnnoViews"><em>pmAnnoViews</em></a> resource is
retrieved after the plot is created, to find the labelbar associated
with the plot. "getvalues" is used to retrieve the values
for <a href="../Document/Graphics/Resources/lb.html#lbFillColors"><em>lbFillColors</em></a>
and <a href="../Document/Graphics/Resources/lb.html#lbLabelStrings"><em>lbLabelStrings</em></a>, and then
"setvalues" is used to reset these resources to their reversed values.

</div>

<div class=ex>
<!--Lb_16-->
<a name=ex16></a>
<a href="Images/lb_16_lg.png">
<img src="Images/lb_16_sm.png" align=left border=2></a>
<a href="Images/lb_old_16_lg.png">
<img src="Images/lb_old_16_sm.png" align=left border=2></a>

<a href="Scripts/lb_16.html">lb_16.ncl</a> / 
<a href="Scripts/lb_16_old.html">lb_16_old.ncl</a>: Demonstrates how to create
a labelbar with triangular ends instead of rectangular ends.
<p>

The lb_16_old.ncl script shows the old way of doing this, before NCL
V6.4.0 was released. In NCL V6.4.0, a new resource
called <a href="../Document/Graphics/Resources/lb.html#lbBoxEndCapStyle"><em>lbBoxEndCapStyle</em></a> was added
that takes one of four values: "RectangleEnds" (the default),
"TriangleLowEnd", "TriangleHighEnd", "TriangleBothEnds".
<p>

The image with with four labelbars was created using the new resource,
while the image with the two labelbars was created using the old
method.
<p>

For the older method, you have to draw the triangles by hand. The
important thing here is you have to set
<a href="../Document/Graphics/Resources/lb.html#lbBoxMinorExtentF"><em>lbBoxMinorExtentF</em></a> to 1.0, so that
you are assured that the <a href="../Document/Graphics/Resources/vp.html#vpWidthF"><em>vpWidthF</em></a>
and <a href="../Document/Graphics/Resources/vp.html#vpHeightF"><em>vpHeightF</em></a> resources apply to just
the boxes, and not the whole labelbar including the labels. This
enables us to retrieve the exact locations of the end labelbar boxes,
and replace them with filled triangles.

</div>


<div class=ex>
<!--Lb_17-->
<a name=ex17></a>
<a href="Images/lb_17_1_lg.png">
<img src="Images/lb_17_1_sm.png" align=left border=2></a>
<a href="Images/lb_17_2_lg.png">
<img src="Images/lb_17_2_sm.png" align=left border=2></a>

<a href="Scripts/lb_17.html">lb_17.ncl</a> /
<a href="Scripts/lb_17_old.html">lb_17_old.ncl</a>: This example shows
how to draw a labelbar with triangular ends, using a new resource
added in NCL V6.4.0
called <a href="../Document/Graphics/Resources/lb.html#lbBoxEndCapStyle"><em>lbBoxEndCapStyle</em></a>.
<p>

The lb_17_old.ncl script shows how to do this before the new resource
was introduced. This method is very tedious as you have to recreate
the labelbar from scratch so you can determine where the ends boxes
are. You <b>cannot</b> panel these plots, because the triangles will
disappear.  You may need to modify some of the labelbar resources
and/or variables in the "labelbar_w_tri_ends" procedure in order to
better control the position of the labelbar, its labels, and anything
else that may not be positioned correctly.
<p>

</div>

<div class=ex>
<!--Lb_18-->
<a name=ex18></a>
<a href="Images/lb_18_lg.png">
<img src="Images/lb_18_sm.png" align=left border=2></a>
<a href="Scripts/lb_18.html">lb_18.ncl</a>: This example shows how to 
draw a labelbar with a box around the outer edges only.

Set <a href="../Document/Graphics/Resources/lb.html#lbBoxSeparatorLinesOn"><em>lbBoxSeparatorLinesOn</em></a> to False to
turn off the interior box lines of a labelbar.


</div>

<div class=ex>
<!--Lb_19-->
<a name=ex19></a>
<a href="Images/lb_19_1_lg.png">
<img src="Images/lb_19_1_sm.png" align=left border=2></a>
<a href="Images/lb_19_2_lg.png">
<img src="Images/lb_19_2_sm.png" align=left border=2></a>
<a href="Images/lb_19_3_lg.png">
<img src="Images/lb_19_3_sm.png" align=left border=2></a>
<a href="Scripts/lb_19.html">lb_19.ncl</a>: This example shows how to 
completely reconstruct a labelbar from scratch given a contour
plot. The labelbar should appear in the exact same place
as if it had been drawn with the plot.
<p>

The three frames show 1) the contour plot with the labelbar, 2) the
contour plot without the labelbar, 3) the reconstructed labelbar.

</div>

<div class=ex>
<!--Lb_20-->
<a name=ex20></a>
<a href="Images/lb_20_lg.png">
<img src="Images/lb_20_sm.png" align=left border=2></a>
<a href="Scripts/lb_20.html">lb_20.ncl</a>: 
This example shows how to draw several labelbars on a page, with each box 
containing a label.
<p>

The lithologic color map came
from <a href="http://mrdata.usgs.gov/catalog/lithclass-color.php">http://mrdata.usgs.gov/catalog/lithclass-color.php</a>,
which shows which colors to use for which rock type. The color map was
provided as an ASCII file, which was read in using
<a href="../Document/Functions/Built-in/asciiread.html"><strong>asciiread</strong></a> and <a href="../Document/Functions/Built-in/str_split.html"><strong>str_split</strong></a> to parse
each line.

</div>
<div class=ex>
<!--unique_8-->
<a name=ex8></a>
<a href="Images/unique_8_lg.png">
<img src="Images/unique_8_sm.png" align=left border=2></a>

<a href="Scripts/unique_8.html">unique_8.ncl</a>: 

This script creates a contour plot of sea surface temperature and
overlays a storm track for Hurricane Katrina. It was contributed by
Kimberly Trent (a 2006 <a
href="http://www.soars.ucar.edu/proteges2006.php">SOARS</a> student of
NCAR/UCAR), with help from Adam Phillips and Mary Haley, also of NCAR.
<p>

The track data came from <a
href="http://www.nhc.noaa.gov/2005atlan.shtml">NHC reports</a> from
the document "<a
href="http://www.nhc.noaa.gov/pdf/TCR-AL122005_Katrina.pdf">Tropical
Cyclone Report Hurricane Katrina</a>" (Richard D. Knabb, Jamie
R. Rhome, and Daniel P. Brown).  The <a
href="ftp://polar.ncep.noaa.gov/pub/history/sst">SST field</a> was
obtained from <a
href="http://polar.ncep.noaa.gov/sst/oper/Welcome.html">NCEP</a>.
<p>

The storm track is done using filled and hollow circles, and
polylines.  The circles are created using the
<a href="../Document/Functions/Built-in/NhlNewMarker.html"><strong>NhlNewMarker</strong></a> function.  A legend is created using
calls to <a href="../Document/Graphics/Interfaces/gsn_text.html"><strong>gsn_text</strong></a> and <a href="../Document/Graphics/Interfaces/gsn_polymarker.html"><strong>gsn_polymarker</strong></a>.

</div>

<div class=ex>
<!--Lb_21-->
<a name=ex21></a>
<a href="Images/lb_21_lg.png">
<img src="Images/lb_21_sm.png" align=left border=2></a>
<a href="Scripts/lb_21.html">lb_21.ncl</a>: 
This example shows how to move a vertical labelbar to
the left side of the plot.
<p>

Set <a href="../Document/Graphics/Resources/pm.html#pmLabelBarOrthogonalPosF"><em>pmLabelBarOrthogonalPosF</em></a> to a
value of -1.0 to move the labelbar to the left side of the plot, and
then use slightly smaller values than this (-1.25) to move it just
outside the plot.

<p>
<a href="../Document/Graphics/Resources/lb.html#lbLabelPosition"><em>lbLabelPosition</em></a> is set to "left" to
move the labelbar labels to the left side of the labelbar.

</div>
<div class=ex>
<!--Lb_22-->
<a name=ex22></a>
<a href="Images/lb_22_1_lg.png">
<img src="Images/lb_22_1_sm.png" align=left border=2></a>
<a href="Images/lb_22_2_lg.png">
<img src="Images/lb_22_2_sm.png" align=left border=2></a>
<a href="Images/lb_22_3_lg.png">
<img src="Images/lb_22_3_sm.png" align=left border=2></a>
<a href="Scripts/lb_22.html">lb_22.ncl</a>: 
This example shows how to apply different opacities to a bar plot
and a custom labelbar.
<p>

The first frame is the plot without any opacity. The second frame has
the opacities applied to both the filled bars and labelbar, using
an RGBA array of colors with the opacity index (index 3) set to
a range of opacities.
<p>

The third frame uses a resource introduced in NCL V6.4.0,
<a href="../Document/Graphics/Resources/lb.html#lbFillOpacityF"><em>lbFillOpacityF</em></a>, that allows you to
set a single opacity value for a labelbar.  This resource is primarily
meant to be used when creating a custom labelbar, and not with
a labelbar associated with a filled contour or vector plot. As of NCL
V6.4.0, any opacity applied to a contour or vector plot via resources
like
<a href="../Document/Graphics/Resources/cn.html#cnFillOpacityF"><em>cnFillOpacityF</em></a>
or <a href="../Document/Graphics/Resources/vc.html#vcGlyphOpacityF"><em>vcGlyphOpacityF</em></a> will have the
same opacity applied to the labelbar.

</div>
<div class=ex>
<!--gpm_1-->
<a name=gpm_1></a> 
<a href="Images/gpm_1_1_lg.png">
<img src="Images/gpm_1_1_sm.png" align=left border=2></a>
<a href="Images/gpm_1_2_lg.png">
<img src="Images/gpm_1_2_sm.png" align=left border=2></a>
<a href="Images/gpm_1_3_lg.png">
<img src="Images/gpm_1_3_sm.png" align=left border=2></a>
<a href="Scripts/gpm_1.html">gpm_1.ncl</a>:
This example shows how to customize a labelbar to have triangular
ends and/or labels on the end boxes.
<p>

In NCL Version 6.4.0, a new labelbar resource
called <a href="../Document/Graphics/Resources/lb.html#lbBoxEndCapStyle"><em>lbBoxEndCapStyle</em></a> was added
that allows you to force one or both of the end labelbar boxes to be
drawn as triangles. The second two plots of this example show two ways
of using this resource to customize the labelbar.
<p>

A 'trick' was used in the third plot to add a minimum label to the
labelbar, first by setting
res@<a href="../Document/Graphics/Resources/cn.html#cnLabelBarEndStyle"><em>cnLabelBarEndStyle</em></a> to
"IncludeMinMaxLabels". But, since we don't actually want to see the
maximum value on the labelbar, we customized the labels ourselves, by
creating an array of strings with the rightmost string set to an empty
string.

</div>

<div class=ex>
<!--Corel_3-->
<a name=corel_3></a>
<a href="Images/corel_3_lg.png">
<img src="Images/corel_3_sm.png" align=left border=2></a>
<a href="Scripts/corel_3.html">corel_3.ncl</a>: This
example shows how to remove the end boxes of a labelbar, by
setting res@<a href="../Document/Graphics/Resources/cn.html#cnLabelBarEndStyle"><em>cnLabelBarEndStyle</em></a> to
"ExcludeOuterBoxes".
<p>

This can be useful when you know there are no values that go beyond
the high and low values of the contour levels, which are set to -1 and
1 in this example.

<p>
</div>

<div class=ex>
<!--fao56_3-->
<a name=ex3></a>
<a href="Images/fao56_3_lg.png">
<img src="Images/fao56_3_sm.png" align=left border=2></a>

<a href="Scripts/fao56_3.html">fao56_3.ncl</a>:
Use <a href="../Document/Functions/Crop/daylight_fao56.html"><strong>daylight_fao56</strong></a> to calculate the maximum daylight duration 
as described in <a href="http://www.fao.org/docrep/x0490e/x0490e07.htm"><b>FAO 56</b></a>.
Compare the theoretical maximum daylight with the modeled ('observed') sunshine duration 
for a particular day by computing the ratio. 
<p>
Use two different types of label bars: (a) triangle ends and (b) fixed ends with no outer boxes.
</div>

					</div>

					<p>&nbsp;</p>

		<!-- begin footer -->
		<div id="footer">
		
		<a href="mailto:ncladmin@ucar.edu">Contact the Webmaster</a>



		<!-- end footer -->
		</div>

           <br class="clearboth"/>

	   <!-- end content -->
	</div>
<!-- end wrap -->
</div>   
</body>

<!-- Mirrored from www.ncl.ucar.edu/Applications/labelbar.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:13:54 GMT -->
</html>


