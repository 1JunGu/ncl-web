<html>

<!-- Mirrored from www.ncl.ucar.edu/Document/Tools/med.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:42:20 GMT -->
<head>
<title>NCL: med</title>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../../overview.html" class="subitem">Overview</a></li>
						<li><a href="../../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../index.html" class="subitem">Documentation</a></li>						
						<li><a href="../../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="../../Applications/index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="../../Applications/index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="../../Applications/Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="../../Applications/list_io.html" class="subitem">File I/O</a></li>
						<li><a href="../../Applications/list_data.html" class="subitem">Datasets</a></li>
						<li><a href="../../Applications/list_maps.html" class="subitem">Maps</a></li>
						<li><a href="../../Applications/list_models.html" class="subitem">Models</a></li>
						<li><a href="../../Applications/list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="../../Applications/list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="../../Applications/list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="../../Applications/list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="../../Applications/list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="../../Applications/list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../Functions/list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../Functions/list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../Functions/index.html" class="subitem">Category Listing</a></li>
						<li><a href="../Functions/list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="../../Applications/editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="index.html" class="subitem">Tools</a></li>
					<li><a href="WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="../../Applications/editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../index.html" class="subitem">Documentation</a></li>
						<li><a href="../../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">


<a class=crumb href="../../index-2.html">NCL Home ></a>
<a class=crumb href="../index-2.html">Documentation ></a>
<a class=crumb href="index-2.html">Tools </a>
<br>

<h1>med</h1>

This application is a metafile editor designed to resemble
syntactically UNIX's sed and ed commands.

<p>

<h2>Synopsis</h2>
<p>

<pre>
   med  [ -e  command ]* [ -f sfilename ] [ -l local_dir ] [ -V ] [ filename]
</pre>

<h2>Description</h2>
<p>

med is a frame-level, metafile editor designed to resemble
syntactically UNIX's sed(1) and ed(1).  med operates on a copy of
filename, called a buffer, and overwrites a file only when you issue
the w (write) command.  med provides line oriented editing commands to
display or delete frames from the buffer, to move, copy or merge
frames within the buffer, or to write frames from and read frames into
the buffer. By default med reads in commands from standard input.
<p>


<h2>Options</h2>
<p>
<dl>
<dt>      -e command
<dd>          command is a single med command. The valid med commands
              are discussed in the Commands section below.  Multiple
              -e options may appear on a single command line. Be
              careful to use quotes if your command contains spaces or
              metacharacters that might be interpreted by the
              shell. When this option is used med does not enter
              interactive mode.  It simply performs the given commands
              and then exits.
<p>

<dt>       -f sfilename
<dd>          Execute the med line-separated list of commands in the
              file sfilename.  After the commands are exhausted med
              will exit.
<p>

<dt>       -l local_dir
<dd>          Use local_dir as the tmp directory for scratch disk
              space. If this option is not specified med will use the
              value of the $TMPDIR environment variable. See <a
              href="../Language/env.html">NCL environment
              variables</a> section for a discussion on environment
              variables.
<p>

<dt>       -V 
<dd>          Print the version number and then exit.

</dl>
<p>

<h2>Usage</h2>
<p>

<h3>Command Structure</h3><p>

med commands attempt to have a syntactically identical form to those
of ed(1) or sed(1).  Commands consist of an optional address or two
optional, comma separated, addresses, followed by a command, which may
be abbreviated, possibly followed by a third address or a command
specific argument list :

<pre>
              [ address [, address ] ] command [ address | args ]
</pre>
<p>

If only one address is specified, operations are performed on that
frame.  If two addresses are specified, med performs the operation on
the inclusive range of frames.  If no address is specified then the
current frame is used as a default. The exception to this are the w
(write) and the a (append) commands.  The default address for w is the
entire buffer.
<p>


For example, 1,10p means "print (display) frame 1 through 10" (two
addresses), d means "delete the current frame" (no address implies the
current frame used as default), and 1,5c5 means "append a copy of
frames 1 through 5 at frame 5" (three addresses).  The meaning of
argument varies for each operation.  In med's current state the only
valid argument is a filename -- for the write, w , command for
instance, argument is the name of the file to write to.
<p>

Unlike its friends ed(1) and sed(1) med attempts to be fairly user
friendly.  If an invalid or ambiguous command is given med will tell
you so. If med thinks it recognizes a command with invalid arguments a
usage statement for the offending command is given. If a particular
command fails and med is smart enough to figure out why it will tell
you.  med will almost ALWAYS immediately terminate when an error
occurs while processing commands from a file or the command line. Help
is available by using the h command. Usage statements for a particular
command may be obtained with: h command name .
<p>

<h3>Addresses</h3><p>

Frames can be addressed in several ways:

<dl>

<dt>       nnn    
<dd>          By  frame number.  Frames in the buffer are numbered relative to
              the start of the buffer.  The first frame is frame 1.
<p>


<dt>       $      
<dd>          The last frame of the buffer.
<p>

<dt>       .      
<dd>          The current frame.  med keeps track of the frame  on  which  you
              last  performed  an operation.  This frame is called the current
              frame.  You can address this frame by typing a "dot"  character.
<p>

<dt>       +-n    
<dd>          By  relative  frame  number.  Address the frame number that is n
              frames higher, or n frames lower than the current frame.
<p>

<dt>       address +-n
<dd>          An address followed by a plus sign (+) or a minus sign (-), followed
              by a decimal number, specifies that address plus or minus
              the indicated number of frames.  If the address is omitted,  the
              current  frame  is  used  as  the  base.   For  example,  `31-3'
              addresses frame 28 in the buffer.
<p>

       If you do not specify an address for a command to operate on, a command
       that  requires  an address supplies one by default, usually the current
       frame.
<p>

       A pair of addresses separated by a comma signifies an  inclusive  range
       of  frames,  and  the  current  frame is not changed unless the command
       changes it.
<p>

</dl>

<h3>Commands</h3><p>

Only one command may appear per line.  Commands may accept zero, one
or two addresses, followed by possibly a third address or an argument.
Commands that accept up to two addresses regard a third as an error.
Likewise, commands that do not accept an argument regard one as an
error. Commands may be abbreviated.  In the absence of a second
address for a two or three address command the command will regard the
second address as the same as the first.  For example, 2d is
equivalent to 2,2d .  The absence of a first address, where required,
will result in the current frame being used as the default. The same
is true in the absence of a required third address. For example, c is
equivalent to .,.c..
<p>

The commands q (quit) and e (edit) may be followed by a '!' to
override med's user protection.
<p>


In the following list of med commands, the default addresses/arguments
appear in parentheses; the parenthesized addresses are not part of the
command. Unless otherwise noted a command does not change the current
frame number.
<p>

<dl>
<dt>       (1,$)append metafile
<dd>          Append  buffer  to  a  file.  Append the addressed frames in the
              buffer to metafile.  If  no  address  is  specified  the  entire
              buffer is written. If the file does not exist create it.
<p>

<dt>       (.,.) copy (.)
<dd>          Copy  frames.  Duplicate  the addressed frames in the buffer and
              append them after the third address. The current  frame  becomes
              the destination of the last frame copied.
<p>

<dt>       (.,.)delete
<dd>          Delete  the addressed lines from the buffer.  delete accepts one
              or two addresses; the default is the current frame.  The current
              frame is set to the first frame after the deleted frame(s).
<p>

<dt>       edit metafile
<dd>          Edit  a  metafile.   The current contents of the buffer, if any,
              are erased. The named metafile is read in  to  the  buffer.  The
              resulting  current  frame  is  the  last frame in the buffer. If
              changes have been made to the buffer since the  last  write  med
              will  refuse  the  request unless the command is appended with a
              '!'.  edit prints the number of frames in the  metafile.  If  no
              metafile  is  given,  the current metafile, if any is used.  The
              current frame becomes the last frame in the file.
<p>

<dt>       help command
<dd>          help. Give a usage message for  command  .   If  no  command  is
              given,  print  list of command names with a short description of
              each.
<p>

<dt>       (.,.)label string
<dd>          Label the addressed frames with string .  The CGM Begin  Picture
              element contained in each metafile frame allows for the encoding
              of character data.  label provides a means  for  accessing  this
              data.
<p>

<dt>       (.,.)merge
<dd>          Merge  the  contents of the second addressed frame on top of the
              first  addressed  frame.  The  first  addressed  frame  is  thus
              changed. The second frame remains the same. The current frame is
              set to the first addressed frame.
<p>

<dt>       (.,.) move (.)
<dd>          Move the addressed frames to the first frame following the third
              address.
<p>

<dt>       (.,.)print
<dd>          Show the contents of the buffer at the given
              address. What is actually displayed is information
              regarding the addressed frames.  This information
              includes: relative frame number within the buffer, the
              number of records contained in the frame, the starting
              record for the frame and the contents of the CGM element
              BEGIN PICTURE .  If no address is specified the current
              frame does not change.  Otherwise it becomes the last
              frame printed.
<p>

<dt>       quit
<dd>          Quit. Terminate the editing session without saving the
              buffer contents.  In order to save the buffer an
              explicit write must be performed. If changes to the
              buffer have been made since the last write med will
              refuse to terminate unless quit is appended with a '!'.
<p>

<dt>       (.)read metafile
<dd>          Read in a metafile. Read the contents of metafile into
              the buffer and append it at the given address.  metafile
              must be a valid NCAR CGM. The resulting current frame is
              the last frame read in.
<p>
<dt>       (1,$)split<number> outfile
<dd>          Split the current metafile into number files. The split
              command attempts to create number metafiles from the
              addressed frames, each containing approximately n /
              number frames where 'n' is the total number of addressed
              frames. The first file is named outfile001.ncgm, the
              second file is named outfile002.ncgm, and so on
              lexicographically. If no outfile is given, med is used
              as the default (output files will be called med001.ncgm,
              med002.ncgm, etc.).
<p>
<dt>       (1,$)write metafile
<dd>          Write buffer. Write the addressed frames in the buffer
              to metafile.  If no address is specified the entire
              buffer is written.  If the file does not exist create
              it. If no file name is specified med uses the last
              currently remembered file name, if any. The currently
              remembered file name is the file name from the most
              recent edit command, or the file name med was invoked
              with if no edit commands have been issued.
<p>

<dt>       ! command
<dd>          Escape to the shell and execute command.  command is a
              valid UNIX command.
</dl>
<p>


<h2>Examples</h2>
<p>

To concatenate the files ncgm1, ncgm2, and ncgm3 into a single file
ncgm123 one might use the following:

<pre>
    % med -e 'r ncgm1' -e 'r ncgm2' -e 'r ncgm3' -e 'w ncgm123'
</pre>

Or one could pass the following script to med as a -fscriptfile option
or enter the commands interactively.
<p>

<pre>
              r ncgm1
              r ncgm2
              r ncgm3
              w ncgm123
</pre>

To overlay the contents of frame 5 on top of frame 4 from a file ncgm1
one could execute:

<pre>
    % med -e '4,5 me' -e 'w!' ncgm1
</pre>
<p>


<h2>Environment</h2>
<p>

<dl>
<dt>TMPDIR

<dd> If set, this environment variable contains a directory path to be
used for temporary files. On most systems the default is /tmp.  FILES
/tmp/cgm_tools.# temporary; # is the process id.

</dl>

<p>

<h2>See also</h2>
<p>

ed(1), sed(1V)

<p>

<h2>Caveats</h2>
<p>

The append, read and merge commands may produce surprising results.  A
CGM may contain a set of global graphical primitive attributes that
are applied to every frame in a file.  Thus reading frames in from a
file with different global attributes than the current working file
may not produce the desired effect. The same is true when appending
frames to a previously existing file.  Similarly, the CGM standard
specifies that graphical attributes specified within a metafile frame
affect all succeeding primitives. Thus a frame which is the product of
the merge command may appear differently than expected.


					</div>

					<p>&nbsp;</p>

		<!-- begin footer -->
		<div id="footer">
		
		<a href="mailto:ncladmin@ucar.edu">Contact the Webmaster</a>



		<!-- end footer -->
		</div>

           <br class="clearboth"/>

	   <!-- end content -->
	</div>
<!-- end wrap -->
</div>
</body>

<!-- Mirrored from www.ncl.ucar.edu/Document/Tools/med.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:42:20 GMT -->
</html>
