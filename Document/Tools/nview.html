<html>

<!-- Mirrored from www.ncl.ucar.edu/Document/Tools/nview.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:42:18 GMT -->
<head>
<title>Viewing and editing your metafiles</title>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../../overview.html" class="subitem">Overview</a></li>
						<li><a href="../../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../index.html" class="subitem">Documentation</a></li>						
						<li><a href="../../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="../../Applications/index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="../../Applications/index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="../../Applications/Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="../../Applications/list_io.html" class="subitem">File I/O</a></li>
						<li><a href="../../Applications/list_data.html" class="subitem">Datasets</a></li>
						<li><a href="../../Applications/list_maps.html" class="subitem">Maps</a></li>
						<li><a href="../../Applications/list_models.html" class="subitem">Models</a></li>
						<li><a href="../../Applications/list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="../../Applications/list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="../../Applications/list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="../../Applications/list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="../../Applications/list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="../../Applications/list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../Functions/list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../Functions/list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../Functions/index.html" class="subitem">Category Listing</a></li>
						<li><a href="../Functions/list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="../../Applications/editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="index.html" class="subitem">Tools</a></li>
					<li><a href="WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="../../Applications/editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../index.html" class="subitem">Documentation</a></li>
						<li><a href="../../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">


<a class=crumb href="../../index-2.html">NCL Home ></a>
<a class=crumb href="../index-2.html">Documentation ></a>
<a class=crumb href="index-2.html">Tools </a>
<br>

<h1>Viewing and editing your metafiles</h1>

<H2>Introduction</h2><p>

The primary token of exchange for graphical imagery in NCL and NCAR
Graphics is the NCAR <a
href="../glossary.html#ComputerGraphicsMetafile">Computer
Graphics Metafile</a> (NCGM), which can be produced directly from
running NCL scripts or NCAR Graphics programs. This document describes
a suite of applications that may be used to display and manipulate
NCGMs. Many of the applications described in this document may also
ingest valid ANSI-standard Computer Graphics Metafiles (CGMs),
provided they are transformed into NCGM format using the tools
discussed later in this document.<p>

The primary components covered in this section are: <p>

<UL>
<LI>filters to convert CGM files to and from NCAR's privately encoded format 

<LI><B><a href="ctrans.html">ctrans</a></B>---a translator for
sequential frame display to your terminal or workstation window and
for output to many hardcopy devices

<LI><B><a href="ictrans.html">ictrans</a></B>--- a text-based,
interactive version of <b><a href="ctrans.html">ctrans</a></b> that
may be used from any graphics terminal and the X11 windowing system

<LI><B><a href="idt.html">idt</a></B>--- a graphical user interface
(GUI) to <B><a href="ictrans.html">ictrans</a></B>

<LI><B><a href="med.html">med</a></B>--- a text-based, frame-level
interactive NCGM editor

<pre>
---------------------------------------------------------------------------
 GUIs are supported by and require the X11 Window System. Text-based          
 interfaces are typically equivalent in function to GUIs but only require
 a standard UNIX environment.                                                  
---------------------------------------------------------------------------
</pre>
</UL>

This document assumes that you have a working knowledge of the X11
windowing system environment for discussions involving GUIs. For X11
references, see <I>X Window System User's Guide</I>, by O'Reilly and
Associates, Inc., or contact your system administrator.<p>

<H2><A NAME="Environment">Environment</A></H2>

The examples in this document assume that you are using <B>csh</B>,
the C shell. If you are using <B>ksh</B>, the Korn shell, or
<B>sh</B>, the Bourne shell, you may want to get help from your system
administrator. If you are not sure what shell you are using, check
with your system administrator.<p>

This section discusses the environment variables that must be
set. Many of the environment variables are invariant from one session
to the next, so you may want to place them in your <B>.login</B> or
<B>.cshrc</B> file. Your site administrator may have already
preconfigured your environment for you. To determine which variables
are already set, type: <p>

<blockquote>
printenv 
</blockquote>

<H3>Search path</H3><p>

You must make sure that the NCL and NCAR Graphics executables and the
current working directory, &quot;.&quot;, are on your search path. You
must also make sure that the appropriate NCL and NCAR Graphics
environment variables are set. Please see the <a
href="../Language/env.html">NCL environment variables</a>
section for information on setting critical environment variables.<p>

<H3>Metafile translators</H3><p>

When using NCL metafile translators you must either set the GRAPHCAP
environment variable to reflect the graphics device you are using, or
provide the device name as a command line argument. To determine which
devices are supported, you can type:

<blockquote>
gcaps  
</blockquote>

The general form for setting your graphcap is:

<blockquote>
setenv GRAPHCAP <B><I>device_name</I></B>
</blockquote>

As an example, if you are running under X11 you would use:

<blockquote>
setenv GRAPHCAP X11  
</blockquote>

You may want to set this variable in your <B>.login</B> or <B>.cshrc
</B>file so that it will always be available. The <I>device_name</I>
may also be specified on the command line for the translators, thus
overriding the environment variable.<p>

<H3>X11 users</H3><p>

 If you are an X user, you will also need to set the DISPLAY
environment variable. For example, if both your X server and your
translator will run on the same local machine then type:

<blockquote>
 setenv DISPLAY:0 
</blockquote>

or possibly:

<blockquote>
setenv DISPLAY unix:0 
</blockquote>

Check with your system administrator if you are not sure.<p>

If you are running remotely on a machine named pebbles and your local
workstation where your X11 server is running is named bambam, then you
need to set your DISPLAY environment variable on pebbles with:

<blockquote>
setenv DISPLAY bambam:0
</blockquote>

and on bambam execute:

<blockquote>
xhost + pebbles 
</blockquote>

<H3>Translator fonts</H3><p>

Finally, you may optionally want to specify a font other than the
default to be used for subsequent metafile translation of text. The
FONTCAP environment variable may be set:<p>

<blockquot>
setenv FONTCAP <B><I>fontcap_name</B></I> 
</DL>

where <I>fontcap_name</I> is the desired fontcap. For a list of valid
fontcaps, execute the <B>fcaps</B> command:<p>

<DL>
<DD>fcaps 
</DL>

For example:<p>

<DL>
<DD>setenv FONTCAP font10 
</DL>

specifies that the cursive font, font10, be used.<p>

<H2>Getting started --- Translating metafiles with ctrans</H2><p>

This section provides several simple examples that demonstrate the
basic steps for using the metafile (NCGM) translator <B><a
href="ctrans.html">ctrans</a></B>. We assume that your NCARG_ROOT
and possibly DISPLAY environment variables have been set correctly as
discussed above. Before you start you will need an NCGM. You can
create an NCGM by executing:<p>

<DL>
<DD>ncargex bnchmk -clean 
</DL>

which will leave the file <B>bnchmk.ncgm</B> in your current working
directory. <p>

<H3>Viewing your NCGM</H3>

Below are the steps for sequentially displaying the contents of an
NCGM on three different devices. Use the command(s) appropriate for
your workstation. From a Televideo vt100 graphics terminal:<p>

<DL>
<DD>setenv GRAPHCAP vt100 

<DD>ctrans bnchmk.ncgm 
</DL>

or:<p>

<DL>
<DD>ctrans -d vt100 bnchmk.ncgm 
</DL>

On a workstation running the X Window System:<p>

<DL>
<DD>setenv GRAPHCAP X11 

<DD>ctrans bnchmk.ncgm 
</DL>

or:<p>

<DL>
<DD>ctrans -d X11 bnchmk.ncgm 
</DL>

In all three cases, the first of six frames should appear on your
screen. You can sequentially advance through the NCGM by pressing the
RETURN key after each frame is plotted. In a window-based environment,
such as X11, make sure that the mouse sprite is in the graphics window
created by <B><a href="ctrans.html">ctrans</a></B>. Also, in a
window-based environment, clicking the left mouse button has the same
effect as pressing RETURN. You can terminate processing at any time by
sending <B><a href="ctrans.html">ctrans</a></B> an interrupt signal
(typing CONTROL-c on most systems). <p>

<H3>Printing your NCGM</H3><p>

For most of the output devices supported by <B><a
href="ctrans.html">ctrans</a></B>, the metafile translation process
results in a stream of device-specific commands being written to the
standard output. This command stream may be captured for subsequent
processing. For example, the command:<p>

<DL>
<DD>ctrans -d ps.mono bnchmk.ncgm &gt; bnchmk.ps 
</DL>

translates the entire <B>bnchmk.ncgm</B> metafile into PostScript and
writes it to the file <B>bnchmk.ps</B>. When the standard output of
<B><a href="ctrans.html">ctrans</a></B> is redirected to a file (or
a pipe) in this manner, it is not necessary to press the RETURN key
between frames. <B><a href="ctrans.html">ctrans</a></B> will process all the frames in the file
and then exit without waiting for any user interaction. The file
<B>bnchmk.ps</B> may now be sent to a PostScript printer for printing,
possibly with the command:<p>

<DL>
<DD>lpr bnchmk.ps 

<pre>
------------------------------------------------------------------------
 The <B>lpr</B> command used above is simply an example. Printing commands
 vary widely from site to site. Your system administrator should be able   
 to provide you with the printing command appropriate for your site.
------------------------------------------------------------------------
</pre>
</DL>

<B><a href="ctrans.html">ctrans</a></B> can also generate output
suitable for printing on HP LaserJet printers that do not support
PostScript:<p>

<DL>
<DD>ctrans -d hppcl bnchmk.ncgm &gt; bnchmk.hppcl 
</DL>

For a complete list of supported output devices, execute the
<B>gcaps</B> command.<p>

<H3>Examining the contents of your NCGM</H3><p>

Sometimes it is desirable for the purposes of debugging to see what
CGM commands are actually contained in your metafile. The <B><a
href="ctrans.html">ctrans</a></B> clear-text driver may be used to
convert your binary-encoded NCGM into a human-readable ASCII
representation. For example:<p>

<DL>
<DD>ctrans -d CTXT bnchmk.ncgm | more 
</DL>

converts <B>bnchmk.ncgm</B> into clear text and sends the output to
the UNIX pager, <B>more</B>.<p>

The command:<p>

<DL>
<DD>ctrans -d CTXT bnchmk.ncgm | grep -c POLYLINE 
</DL>

counts the number of CGM polyline elements that appear in the file
<B>bnchmk.ncgm.</B><p>

<pre>
------------------------------------------------------------------------
 The ANSI CGM standard defines three encoding schemes for CGMs:            
 binary, character, and clear text. The clear text produced by the          
 <B>ctrans -d</B> CTXT option does not conform to the ANSI definition for clear   
 text encoding and is not acceptable as input to other CGM clear-text      
 interpreters. It is merely intended as a debugging aid for the user.      
------------------------------------------------------------------------
</pre>

<H3>Controlling NCGM translation</H3><P>

<B><a href="ctrans.html">ctrans</a></B> offers a suite of command
line options for controlling the translation process performed on a
metafile which may ultimately determine the appearance of your
plot.
<p>

<H2>Interactive metafile translation</H2><p>

<H3>Interactive ctrans (<a href="ictrans.html">ictrans</a>)</H3><p>

<B><a href="ictrans.html">ictrans</a></B>, a text-based interactive
version of the metafile translator <B><a
href="ctrans.html">ctrans</a></B>, will read commands from any
terminal. With <B><a href="ictrans.html">ictrans</a></B>, you are
no longer limited to sequential metafile access. Interactive
translation may be desirable if your metafile contains lots of
metafile frames or if you simply want to take advantage of some of the
functionality in <B><a href="ictrans.html">ictrans</a></B> that is
not available in <B><a href="ctrans.html">ctrans</a></B>. You
invoke <B><a href="ictrans.html">ictrans</a></B> by typing:<p>


<DL>
<DD>ictrans <B><I>metafile_name</B></I> 
</DL>

where <I>metafile_name</I> is the path to a valid NCGM. As with <B><a
href="ctrans.html">ctrans</a></B>, you need to specify the output
device you want to translate to either on the command line as in:<p>

<DL>
<DD>ictrans -d X11 bnchmk.ncgm 
</DL>

or with the GRAPHCAP variable:<p>

<DL>
<DD>setenv GRAPHCAP X11 

<DD>ictrans bnchmk.ncgm 
</DL>

Upon invocation, <B><a href="ictrans.html">ictrans</a></B> will
respond with an account of the number of frames contained in the
metafile followed by the ready prompt ictrans&gt;. Be patient; many of
the functions in <B><a href="ictrans.html">ictrans</a></B> require
information embedded in the metafile. The time required to extract
this information depends on the size of the NCGM. <p>

The command for viewing a metafile frame is <B>plot</B> (you can type
<B>p</B> for short). Typing <B>plot</B> at the ictrans&gt; prompt will
cause the first frame in the metafile to be displayed. <B><a
href="ictrans.html">ictrans</a></B> is case sensitive; typing
<B>PLOT</B> will not work. After the frame has been plotted, you can
press RETURN to signal <B><a href="ictrans.html">ictrans</a></B> to
re-enter command mode (you should see the ictrans&gt;
prompt). Entering a second <B>plot</B> command will cause the next
frame, if any, to be displayed:

<blockquote>
  ictrans&gt; <B>p</B>
</blockquote>

Note to X users: When <B><a href="ictrans.html">ictrans</a></B> is
displaying to an X window, you may find it convenient to operate in
movie mode. When <B><a href="ictrans.html">ictrans</a></B> is in
movie mode, a RETURN is not necessary to put <B><a
href="ictrans.html">ictrans</a></B> into command mode after
plotting a frame from your metafile. Enter movie mode by typing:

<blockquote>
  ictrans&gt; <B>movie 0</B>
</blockquote>

You can abbreviate the command <B>plot</B> by typing <B>p</B>; all
<B><a href="ictrans.html">ictrans</a></B> commands may be
abbreviated up to the point that they are unique. For a complete list
of <B><a href="ictrans.html">ictrans</a></B> commands type:

<blockquote>
  ictrans&gt; <B>help</B>
</blockquote>

or just:

<blockquote>
  ictrans&gt; <B>h</B>
</blockquote>

<H4>Random access</H4><p>

So far, we have only shown sequential metafile access. <B><a
href="ictrans.html">ictrans</a></B> allows for random frame access
as well. To view the fifth frame in a file, type:

<blockquote>
  ictrans&gt; <B>5p</B>
</blockquote>

Relative addressing is also possible. To view the last frame in a file type:

<blockquote>
  ictrans&gt; <B>$p</B>
</blockquote>

Here, the <B>$</B> is an alias for the last frame in the metafile. <p>
For convenience, several frames may be listed on a single command
line. To view the first through third, the fifth, and the last frame,
type:

<blockquote>
  ictrans&gt; <B>1,3 5 $p</B>
</blockquote>

After processing each frame, <B><a
href="ictrans.html">ictrans</a></B> waits for you to press RETURN
before proceeding with the next frame. You can read the <B>man</B>
page for <B><a href="ictrans.html">ictrans</a></B> by typing:

<blockquote>
  ictrans&gt; <B>! man ictrans</B>
</blockquote>

(Typing <B>!</B> returns you to the UNIX shell for one command.)<p>

<H4>Saving a metafile</H4><p>

<B><a href="ictrans.html">ictrans</a></B> allows you to save the
metafile describing a frame, or set of frames, to a file. If this file
already exists, the saved frames are appended at the end. If the file
does not exist, it will be created for you. To save the current frame
to a file named <B>save.ncgm</B>, type:

<blockquote>
   ictrans&gt; <B>save save.ncgm</B>
</blockquote>

The current frame is the last frame plotted. (If no frames have been
plotted the current frame is the first frame in the metafile.)<p> If
you type:

<blockquote>
  ictrans&gt; <B>s save.ncgm</B>
</blockquote>

<B><a href="ictrans.html">ictrans</a></B> will tell you that the
command is ambiguous because the <B>s</B> command could stand for
either <B>save</B> or <B>spooler</B>. You can, however, abbreviate
<B>save</B> with <B>sa</B>. The <B>save </B>command uses identical
syntax to the plot command for addressing frames (as do all <B><a
href="ictrans.html">ictrans</a></B> commands). To save the third
through last frame to the file <B>foo.ncgm </B>, type:

<blockquote>
  ictrans&gt; <B>3,$s foo.ncgm</B>
</blockquote>

The newly created file, <B>foo.ncgm</B>, may now be translated just
like any other NCGM. If you type:

<blockquote>
  ictrans&gt; <B>file foo.ncgm</B>
</blockquote>

<B>foo.ncgm</B> will be read into the translator for processing. The
<B>file</B> command is used to change the current file being
processed.<p>

<H4>Printing metafiles</H4><p>

If the necessary hardware and software exist at your site, <B><a
href="ictrans.html">ictrans</a></B> may have been configured to
translate metafile frames and send them to a printer. To determine
whether <B><a href="ictrans.html">ictrans</a></B> has been
configured for printing to a spooled device, type:

<blockquote>
  ictrans&gt; <B>spooler</B>
</blockquote>

If <B><a href="ictrans.html">ictrans</a></B> responds with anything
other than &quot;&quot; (null), then there exists at least one device
to which <B><a href="ictrans.html">ictrans</a></B> can send
translated code. The current printing device name is given by the
<B>spooler</B> command when <B>spooler</B> is executed without any
arguments as above. (The <B><a href="ictrans.html">ictrans</a></B>
command <B>alias</B>, without any arguments, lists all available
printing devices, if any.) For example, if <B>spooler</B> responds
with a device named &quot;postscript,&quot; then to send the first
three frames of your file to this device after translation, type:

<blockquote>
  ictrans&gt; <B>1,3Print</B>
</blockquote>

Don't forget to capitalize the <B>P</B> in <B>Print</B>. The <B>P</B>
is capitalized so <B>Print</B> can be abbreviated and not conflict
with <B>p</B> for <B>plot.</B><p>

For more information about configuring <B><a
href="ictrans.html">ictrans</a></B> for printing metafiles, see the
documents on <a href="ictrans.html"><B>ictrans</B></a> and <a
href="ncarv_spool.html"><B>ncarv_spool</B></a>. <p>

<H4>Zooming in on your plot</H4><p>

The <b><a href="ictrans.html">ictrans</a></b> <B>zoom</B> command
allows you to zoom or pan any area of your plot. For example, the
following command will result in the bottom-left quarter of the
current frame being drawn so that it fills the entire graphics window:

<blockquote>
   ictrans&gt ;<B>zoom .0 .0 .5 .5</B>
</blockquote>

The two pairs of numbers, (.0, .0) and (.5, .5), specify the lower
left and upper right coordinates, respectively, of the frame to be
viewed. The new coordinate specification remains in place until
changed with a subsequent <B>zoom</B> command. To restore normal
viewing type:

<blockquote>
   ictrans&gt; <B>zoom .0 .0 1. 1.</B>
</blockquote>

<H4>Batch processing</H4><p>

It is sometimes desirable to access <B><a
href="ictrans.html">ictrans</a></B> functionality in a
noninteractive, or batch, environment. For example, you may want be
able to send selected metafile frames to a printer from inside a shell
script. You might be able to use <B><a
href="ctrans.html">ctrans</a></B> to accomplish this task, but
<B><a href="ctrans.html">ctrans</a></B> provides no flexible
mechanism for choosing which frames get sent; <B><a
href="ctrans.html">ctrans</a></B> will send the entire file. As we
have seen, <B><a href="ictrans.html">ictrans</a></B> provides a
rich addressing model for selecting pieces of a metafile for
processing. To facilitate the use of <B><a
href="ictrans.html">ictrans</a></B> in a batch mode, <B><a
href="ictrans.html">ictrans</a></B> accepts all of its commands on
the UNIX command line by preceding them with a <B>-e</B> flag.<p>

For example:

<blockquote>
<B>ictrans -e 'spooler postscript' -e '$ Print' bnchmk.ncgm</B>
</blockquote>

would translate the last frame (the $ frame) in the metafile,
presumably into PostScript, and send it to the spooled device named
&quot;postscript&quot;. Don't forget to enclose all <B>-e</B> options
in single quotes or the shell will mistakenly interpret special
characters, like $, for you.<p>


<H3>Interactive display tool --- idt</H3><p>

Yet another interactive metafile translator is <b><a
href="idt.html">idt</a></b>. What makes <b><a
href="idt.html">idt</a></b> different from <B><a
href="ictrans.html">ictrans</a></B> is that <b><a
href="idt.html">idt</a></b> has a point-and-click or graphical user
interface (GUI). It may only be used on a workstation (or X terminal)
supporting the X11 windowing system.<p>

This section provides examples of using <b><a
href="idt.html">idt</a></b>'s more common features. For a complete
description of <b><a href="idt.html">idt</a></b> functionality, see
the <B>idt man</B> page.<p>

Once again we assume that you have set your NCARG_ROOT and DISPLAY
environment variables correctly as discussed in the
&quot;Environment&quot; section. Furthermore, <b><a
href="idt.html">idt</a></b> requires a device specification of
X11. One way to accomplish this is by setting your GRAPHCAP
environment variable to X11:<p>

<B>setenv GRAPHCAP X11</B><p>

A note on entering text: In many of the examples that follow, you will
be asked to enter text into a &quot;text widget&quot; that appears on
your screen as part of the application. To enter text into a text
widget, you must move the mouse sprite so that it is completely inside
the surrounding text widget box. Depending on your system's
configuration, the sprite should change appearances to confirm its
position within the text widget. The Athena Text widget provides many
keyboard editing commands. These commands allow you to edit the
buffer. The default key bindings are patterned after those in the
emacs editor. For example, typing CONTROL-k will delete from the
cursor to the end of the line, and DELETE key will delete the previous
character. If you are familiar with the emacs editor, you should have
no trouble entering text into NCAR Graphics GUIs. If you are not
familiar with emacs, you may have to experiment a little to get the
hang of it.<p>

<H4>Translating metafiles (idt)</H4><p>

You are now ready to examine a metafile on your X11 workstation or X11
terminal. See the preceding section &quot;Getting
started---Translating metafiles with <B>ctrans</B>&quot; for
instructions on creating a metafile. The following examples assume you
have already created a metafile and its name is <B>bnchmk.ncgm</B>. We
also assume that you have not modified any of the X11 resources that
describe the appearance of <B><a href="idt.html">idt</a></B>.<p>

Invoke <B><a href="idt.html">idt</a></B> by typing:

<blockquote>
   <B>idt bnchmk.ncgm </B>
</blockquote>

Two windows should appear on your screen. The position and dimensions
of these windows may be adjusted with the mouse after it appears, or
it may be pre-set through your X resource file. The details for
manipulating window geometry after the window appears depend on the
window manager you are running. See your system administrator, or
consult the document &quot;The X Window System at NCAR,&quot; which
offers some guidelines for customizing your X11 environment.<p>

<H4>The idt control panel</H4><p>

The control panel (Figure 1) provides a simple mechanism for managing
displays (Figure 2). A display represents a metafile, a drawing
canvas, and a set of functions for determining how the metafile is
plotted on the drawing canvas. The control panel simply allows you to
create and destroy displays. Before you can &quot;create&quot; a
display, you need to &quot;select&quot; a metafile. A metafile can be
selected either by using the &lt;select file&gt; button on the control
panel or by placing its name on the command line. Invoking <B><a
href="idt.html">idt</a></B> with a metafile name as a command line
argument not only &quot;selects&quot; the metafile but also
&quot;creates&quot; the display.<p>


<A HREF="nview.fig1.gif"><img src="nview.fig1.gif"></A><p><H6>Figure
1.</H6><p>


<H4>The display panel</H4><p>

On most systems, the name of the metafile appears in the title bar at
the top of the display. The first row in the display contains a scroll
bar for randomly selecting a frame to be translated. The label bar to
the right displays the number of the frame to which you have
scrolled. The display is intended to resemble a video tape
recorder. Thus, the second row contains &lt;playback&gt;,
&lt;jogback&gt;, &lt;stop&gt;, &lt;jog&gt;, and &lt;play&gt; buttons,
respectively. The third and fourth rows contain more complex display
commands. See Figure 2.<p>

<A HREF="nview.fig2.gif"><img src="nview.fig2.gif"></A><p><H6>Figure
2.</H6>

If you select the &lt;jog&gt; button (the fourth button from the left
on the second row), the first frame in the file should be
displayed. Selecting this button a second time will cause the second
frame to be displayed, and so forth. You can go backward through the
file one frame at a time by selecting the &lt;jogback&gt; button, the
second button from the left on the second row. The buttons on either
end of the second row are for continuous playing in either the reverse
or forward directions, respectively. The &lt;stop&gt; button in the
middle halts either &lt;play&gt; or &lt;playback&gt;.<p>

There are two ways to randomly access frames in your metafile: the
first is by using the scrollbar in the upper left corner of the
display panel. The second is by using the &lt;goto&gt; button in the
third row. When you select &lt;goto&gt;, a small popup dialog box
appears and prompts you for the number of the frame to display. If you
enter 2 and then select &lt;ok&gt; from the &lt;goto&gt; popup, the
second frame in the metafile will be displayed.<p>

<a name="IdtSegments"></a>
<H4>idt segments &lt;start segment&gt; &lt;stop segment&gt;</H4><p>

It is sometimes convenient, particularly with large NCGMs, to work
with only a subset of the frames contained in the file. The &lt;start
segment&gt; and &lt;stop segment&gt; buttons allow you to define such
a subset, called a segment. Initially, the defined segment is the
entire file. The &lt;start segment&gt; and &lt;stop segment&gt;
buttons allow you to redefine the starting and ending frame
boundaries, respectively, of the current segment. Subsequent <B><a
href="idt.html">idt</a></B> commands will treat the metafile as if
it only contained the frames defined by the current segment. For
example, if you select the &lt;play&gt; button after setting &lt;stop
segment&gt; to 4, playing will halt after the fourth frame in the file
is displayed.<p>

<H4>Continuous playing &lt;loop&gt;</H4>

The &lt;loop&gt; button toggles the continuous play mode of <B><a
href="idt.html">idt</a></B> on and off for subsequent
&quot;plays&quot; When <B><a href="idt.html">idt</a></B> is in
continuous play mode, the currently defined segment is treated as if
it were circular. There is no longer a beginning and ending frame in
the segment. Selecting &lt;play&gt; (or &lt;playback&gt;) will cause
<B><a href="idt.html">idt</a></B> to display all the frames in the
current segment, and then return to the first (or last) frame and
start over. Playing will not stop until aborted by selecting the
&lt;stop&gt; button.<p>

<H4>Printing frames &lt;print&gt;</H4>

Your site may have facilities for printing translated metafiles. <B><a
href="idt.html">idt</a></B> may provide an interface to these
devices, depending on how the application has been
configured. Selecting the &lt;print&gt; button will present you with a
menu of the known printing devices for which <B><a
href="idt.html">idt</a></B> has been configured. If you select
&lt;print&gt; and a menu appears, you may select a printer by dragging
the mouse sprite down to the desired menu item and releasing the mouse
button. Selecting a printer sends the current frame to that
device. New printers may be added dynamically to <B><a
href="idt.html">idt</a></B>. Consult the <B>man</B> page on <B><a
href="ncarv_spool.html">ncarv_spool</a></B> for details.<p>

<H4><B>Saving metafiles &lt;save&gt;</B></H4><p>

The &lt;save&gt; button allows you to write the metafile
describing the current frame to a file. This file can translated at a
later time. When you select &lt;save&gt;, a dialog popup appears
asking you for the name of the file to save to. Enter the name of the
file and select &lt;ok&gt;. If the file already exists and it is a
valid NCAR CGM, the current frame will be appended to this file. If
the file exists and it is not an NCAR CGM, it will be overwritten. If
the file does not exist, it will be created.<p>

<H4><B>Enlarging a plot &lt;zoom&gt;</B></H4><p>

The &lt;zoom&gt; button is used for zooming and panning an area
displayed in the drawing canvas. For example, suppose you want the
upper left corner of the currently displayed plot to be blown up to
fill the entire drawing canvas. Select &lt;zoom&gt; from the display
panel. The mouse sprite should change its shape, signaling to you that
you are in zoom mode. Move the sprite to the center of the drawing
canvas. Click and hold any of the mouse buttons. Move the sprite to
the upper left corner of the viewing window and release the mouse
button. The rectangular area described by the sprite motions will be
redrawn to fill the entire viewing window. To unzoom your plot, select
the &lt;unzoom&gt; button from the fourth row of the display panel.<p>

<H4><B>Desktop animation &lt;animate&gt;</B></H4><p>

One of <B><a href="idt.html">idt</a></B>'s most useful features is
its ability to perform animation on the desktop. Before we discuss how
to use this powerful tool, it may help to briefly explain the hows and
whys of desktop animation.<p>

You may have already noticed when experimenting with the &lt;play&gt;
and &lt;playback&gt; buttons that no matter how fast your X server is,
the ensuing sequence of images displayed to your screen does not make
a very acceptable animation: To your eye it appears as though images
flicker and fail to proceed along in a smooth, animated motion. This
is due to an anomaly known as &quot;temporal aliasing.&quot; Temporal
aliasing results partially from the fact that whatever is drawn on the
drawing canvas (lines, filled areas, etc.) is immediately
visible. Another factor is the speed at which objects are drawn. As
the complexity of an image increases, so does the drawing time.<p>

One way to help alleviate temporal aliasing is to postpone the display
of an image until it is completely drawn. This is how the animate
function works in <B><a href="idt.html">idt</a></B>; images (or
frames) are predrawn into an area of memory managed by the X
server. When it is time to display each frame in an animation
sequence, the entire frame can be posted to the drawing canvas
instantly. The rate at which successive images can be posted in this
manner is not affected by the complexity of the image, but rather on
its spatial resolution (width and height in pixels). If the images are
small enough in terms spatial resolution, the X server will be able to
display them rapidly and at a constant rate to produce a smooth,
flicker-free animation.<p>

There is one drawback to this approach, however: the amount of RAM
(random access memory) required to store each predrawn image. RAM is a
limited resource on any workstation or X terminal. Be aware that it is
the X server memory that is of concern here. X servers run on the
workstation that is physically attached to your graphics display.<p>

On most systems, the amount of memory required by an animation
sequence can be computed by multiplying the number of pixels in the
drawing canvas by the number of frames in the sequence. For example,
if your drawing canvas is 512 by 512 pixels and you have 10 frames,
then the total memory required is about 512 * 512 * 10 = 2,621,440
bytes. The amount of memory that is actually available to your X
server will vary depending on how much physical memory is installed on
your machine and what other processes are currently running. So how do
you determine how &quot;big&quot; an animation you can run?
Experimentation is probably the best method. Start with something
small, just a few frames, then move up. If the animation gets too big,
there will be a noticeable degradation in performance.<p>

One final word of caution: UNIX processes typically do not free up
dynamically allocated memory for other processes to use until they
exit. Using <B><a href="idt.html">idt</a></B> to animate imagery
may cause your X server to grow substantially. On some systems, this
is a trivial issue because each console login session starts a new X
server. On other systems, it may be necessary to restart your server
manually if it grows too big. Check with your system
administrator. Your system administrator should also be able to tell
you how to monitor the size of your X server.<p>

Below are the steps, and some guidelines, for successfully animating a
sequence of metafile imagery.<p>

The first step is to determine how many and which frames you want to
animate from your file. As discussed, it's likely that it will not be
possible to animate your entire file at once. Fortunately, <B><a
href="idt.html">idt</a></B> provides a convenient mechanism for
selecting only a portion of your image file: segments (see the section
on <a href="#IdtSegments"><B>idt</B> segments</a>). When you enter
animate mode, only the currently defined segment is preprocessed and
loaded into server memory. By default, the current segment is the
entire metafile, so you may need to define a new segment. Defining a
new segment is a simple process and was discussed earlier in the
&quot;<B>idt</B> segments&quot; section. We'll assume we are still
working with the <B>bnchmk.ncgm</B> file, which only contains six
frames. For this example, we will animate the entire file. You may
want to check the value of the &lt;start segment&gt; and &lt;stop
segment&gt; to verify that the current segment is indeed the entire
file.<p>

The next step is to select the &lt;animate&gt; button. <B><a
href="idt.html">idt</a></B> will begin processing the frames in the
segment and loading them into server memory. For our example, this
should only take a few seconds. For a really large segment, this
process might take several minutes (<B>Note</B>: the total
preprocessing time also depends on the size of the drawing
canvas.). The text window in the control panel will keep you informed
of <B><a href="idt.html">idt</a></B>'s progress.<p>

When the preprocessing is complete, the text window in the control
panel will display the message &quot;Done loading <I>x</I>
images,&quot; where <I>x</I> is the number of frames in your
segment. Now you can start your animation. The animation is controlled
the same way that the display of normal metafile imagery is
controlled. Selecting the &lt;play&gt; button will &quot;play&quot;
your animation in the forward direction. The &lt;playback&gt; button
will cause your animation to play backward. If &lt;loop&gt; is turned
on, the animation will loop repeatedly until the &lt;stop&gt; button
is selected.<p>

One animation feature that is only available in animation
mode is the &lt;delay&gt; button. If your animation is moving too
fast, you can slow it down by setting a delay time, in 1/100's of a
second. By default, the delay time is 0.<p>

To terminate your animation and go back to normal metafile processing,
select the &lt;animate&gt; button a second time. <p>

<H4>Terminating a plotting session &lt;done&gt;</H4><p>

When you are done viewing a particular metafile, you can terminate the
display session by selecting the &lt;done&gt; button. Terminating a
display session does not terminate the entire application. To exit
<B><a href="idt.html">idt</a></B>, you may select &lt;quit&gt; from
the main control panel at any time.<p>

<H4>The idt file browser</H4><p>

Once <B><a href="idt.html">idt</a></B> is up and running, you may
want to take advantage of <B><a href="idt.html">idt</a></B>'s file
browser for selecting metafiles for translation. <B><a
href="idt.html">idt</a></B> has a built-in file finder that you can
access by selecting the &lt;select file&gt; button from the control
panel. Selecting this button at any time causes a popup menu labeled
&quot;file finder&quot; to appear. The names of the files in your
current working directory should be listed in the text box in the
middle of this file selector. If you created the <B>bnchmk.ncgm</B>
metafile earlier, you should see it listed somewhere in this box. You
may need to use the scrollbar to bring it into view. When you have
found it, select <B>bnchmk.ncgm</B> with the mouse. The string
<B>bnchmk.ncgm</B> should appear in the box labeled
&quot;selection,&quot; indicating that <B>bnchmk.ncgm</B> is the
current selection. <p>

The uppermost box of the popup file selector contains a text widget
with an asterisk (*) displayed. The asterisk is the metacharacter used
in both the Bourne shell and the C shell for matching zero or more
characters in a filename. Hence all the files in the current directory
are displayed in the middle box. You can change the mask for the file
finder by simply editing the file finder text widget and selecting
&lt;finder&gt;. For example, if you enter:

<blockquote>
   <B>*.ncgm</B>
</blockquote>

and select &lt;finder&gt; or press RETURN, all of the files in the
current directory with the &quot;.ncgm&quot; name extension will be
displayed. Or, if you enter:

<blockquote>
  <B>/u1/joe/*</B>
</blockquote>

all of the files in the user directory <B>/u1/joe</B> will be
displayed. <p>

When the desired filename is displayed in the selection box, you may
confirm your choice by selecting &lt;ok&gt;. You have now informed
<B><a href="idt.html">idt</a></B> of the name of the next metafile
to process. <B><a href="idt.html">idt</a></B> will pop up a new
display panel with which to plot the new metafile.<p>

<H2>Metafile editing</H2><p>

<H3>The med program</H3><p>

The <B>med</B> program is a frame-level metafile editor similar in
style and syntax to <B>ed,</B> the UNIX line editor. <B>med</B> allows
you to interactively modify metafiles at the frame level. It is
important to understand that the smallest atomic object that
<B>med</B> can work with is a frame. <B>med</B> does not allow you to
change the appearance of individual frames, except when you composite
frames on top of each other. <p>

All of <B>med</B>'s editing functions are performed in a temporary
buffer. This greatly improves the speed with which <B>med</B> can
perform its actions. Changes made in the buffer have no effect on the
original file until the buffer is written to disk with the
<B>write</B> command. If you terminate a <B>med</B> session without
saving the buffer, all changes will be lost.<p>

Under normal invocation, <B>med</B> will enter command mode and
display the prompt med&gt;. The prompt is a signal that <B>med</B> is
ready to accept commands from the user. The basic format of a
<B>med</B> command is:

<blockquote>
   [<B><I>address</B></I>]<B>command</B> 
</blockquote>

where <B><I>address</B></I> is an optional field listing a range of
frames on which to perform the named command. Frames are numbered
starting with 1. A comma-separated pair of numbers specifies an
inclusive range of frames on which to operate. If no address is given,
the current frame is assumed as default. As with <B>ictrans, med</B>
commands may be abbreviated up to the point that they are unique. A
complete description of addressing syntax is given in the <B>man</B>
page for <B>med</B>. <p>

Assuming you have an NCAR CGM named <B>bnchmk.ncgm</B>, invoke
<B>med</B> with the command:

<blockquote>
  <B>med bnchmk.ncgm</B> 
</blockquote>

<B>med</B> will respond with the number of frames in the file. The
current frame is set to the last frame in the file. (Note that this is
different from <B>ictrans,</B> which uses the first frame in the file
as the default current frame). If <B>bnchmk.ncgm</B> was created with
the <B>ncargex</B> utility described earlier, <B>med</B> should report
the existence of six frames.<p>

<H4>Listing buffer contents (print)</H4><p>

To list the contents of the buffer at any time, use the <B>print</B>
command. The <B>print</B> command will report a frame's offset, that
is, its relative position in the file, the number of 1440-byte records
contained in the frame, the offset of the first record of the frame in
the file, and an optional description of the frame if it exists. To
list the entire contents of the buffer containing the <B>bnchmk.ncgm
</B>metafile type:

<blockquote>
  med&gt; <B>1,6print</B> 
</blockquote>

A listing for each of the six frames will appear.<p>

<H4>Writing frames to a file (write)</H4><p>

To write the first three frames in <B>bnchmk.ncgm</B> to a file called
<B>test.ncgm</B>, type:

<blockquote>
  med&gt; <B>1,3write test.ncgm</B>
</blockquote>

The first three frames in <B>bnchmk.ncgm</B> will be written to
<B>test.ncgm</B>. If the file already exists, it is overwritten.<p>

<H4>Appending frames to a file (append)</H4><p>

To append a frame to an existing file, use the <B>append</B>
command. If you use the <B>write</B> command as in the previous
example, the file will be overwritten and will only contain the sixth
<B>bnchmk.ncgm</B> frame. To append the sixth frame of
<B>bnchmk.ncgm</B> to the end of the file <B>test.ncgm</B>, type:

<blockquote>
  med&gt; <B>6 append test.ncgm</B> 
</blockquote>

The file <B>test.ncgm</B> now contains the first through third and the
sixth frame from the file <B>bnchmk.ncgm</B>.<p>

<H4>Reading a file into the buffer (read)</H4><p>

To read the contents of another NCGM into the current buffer without
destroying the buffer contents, use the <B>read</B> command:

<blockquote>
  med&gt; <B>read test.ncgm</B> 
</blockquote>

This will read all of the frames contained in the file
<B>test.ncgm</B> and append them after the current frame. <B>med</B>
will report the number of frames read successfully. A destination
other than the current frame offset may be specified as the target for
the incoming frames. The command:

<blockquote>
  med&gt; <B>1 read test.ncgm</B> 
</blockquote>

will append the contents of the file <B>test.ncgm</B> after the first
frame in the buffer. The first frame in <B>test.ncgm</B> will become
the second frame in the buffer.<p>


<H4>Splitting a large metafile (split)</H4><p>

Suppose you have a single NCGM that contains a large number of
frames. Since large NCGMs can be quite unwieldy, it is often more
convenient to have several smaller files than one huge one. The split
command can be used to divide a single file into an ordered sequence
of smaller ones. For example, suppose you were editing a large
metafile with 1,000 frames in it. You could use the command:

<blockquote>
  med&gt; <B>1,$ split 10</B> 
</blockquote>

to create a sequence of files named <B>med001</B> through
<B>med010</B>, each containing one hundred frames. <B>med001</B> would
contain the first hundred frames from the original file, <B>med002</B>
would contain the second hundred frames, and so forth. <p>

The number of split files created does not have to be an integral
divisor of the total number of frames. <B>med</B> will do its best to
keep the same number of frames in each split file.<p>

<H4>Copying frames (copy)</H4><p>

To duplicate a set of frames and place them somewhere else in the
metafile, use the <B>copy</B> command. The general format of the
<B>copy</B> command is:<p>

<blockquote>
[<B><I>source_frames</B></I>] <B>copy<I></B> </I>[<B><I>destination</B></I>]<p>
</blockquote>

where <B><I>source_frames</B></I> is a list of frames to copy and
<B><I>destination</B></I> is the destination frame of the copy. The
frames copied are appended after destination. For example, to make a
copy of the first two frames and place them at the end of the file,
use:

<blockquote>
  med&gt; <B>1,2 copy $</B>
</blockquote>

In this example, the $ is an alias for the last frame in a file. This
is helpful if you do not know how many frames are contained in the
NCGM.<p>


<H4>Deleting frames (delete)</H4><p>

To remove some frames from the buffer, use the <B>delete</B>
command. To delete the last two frames in the buffer:

<blockquote>
  med&gt; <B>$-1,$ delete</B> 
</blockquote>

The $-1 denotes the offset of the last frame minus 1, that is, the
second from last frame. The second $ denotes the last frame, so $-1,$
denotes the last two frames in the buffer. <p>

<H4>Moving frames (move)</H4><p>

The <B>move</B> command can be used to change the relative position of
frames in a metafile. Like the <B>copy</B> command, the general format
of the <B>move</B> command is:

<blockquote>
  [<B><I>source_frames</B></I>] <B>move</B> [<B><I>destination</B></I>]
</blockquote>

To move the first frame to the end of the file, making the second
frame the first frame and the original first frame the last frame,
type:

<blockquote>
  med&gt; <B>1 move $</B> 
</blockquote>

<H4>Compositing frames (merge)</H4><p>

The <B>med</B> utility can do a limited amount of compositing with the
<B>merge</B> command. <B>merge</B> will append the drawing
instructions of one frame to the end of another frame. When plotted,
the resulting image appears as if one frame were composited on top of
another. The command:

<blockquote>
  med&gt; <B>1,2 merge</B>
</blockquote>

appends the drawing instructions contained in frame 2 to frame 1. This
changes frame 1, and frame 2 is unaltered.<p>

<pre>
--------------------------------------------------------------------
 This command may produce unexpected results depending on how          
 color and GKS point, line, and text attributes are specified in the   
 metafile.                                                             
                                                                       
--------------------------------------------------------------------
</pre>

<H4>Editing a new file (edit)</H4> <p>

The <B>edit</B> command causes the entire contents of the buffer to be
erased and replaced with a new metafile. The command:

<blockquote>
  med&gt; <B>edit test.ncgm</B> 
</blockquote>

will read the file <B>test.ncgm</B> into the buffer. <p>

The <B>edit</B> command has a safeguard to prevent you from
accidentally destroying changes made to a buffer that have not been
saved. If unsaved changes exist, the <B>edit</B> command will fail and
print a warning message. To prevent this, save the file before
executing <B>edit:</B>

<blockquote>
  med&gt; <B>w</B>
</blockquote>

or append a <B>!</B> to the <B>edit</B> command. This tells
<B>edit</B> to disregard any unsaved changes:


<blockquote>
  med&gt; <B>edit ! test.ncgm</B>
</blockquote>

<H4>Obtaining help (help)</H4><p>

The <B>help</B> command, without any arguments, provides a list of all
available commands and a brief synopsis of what each command does. It
will also give you the appropriate syntax for a particular
command. For example, if you type:

<blockquote>
  med&gt; <B>help delete</B> 
</blockquote>

<B>med</B> will describe the syntax for the <B>delete c</B>ommand. <p>

<H3>Batch processing</H3><p>

Like <B>ictrans, med</B> offers a batch or command line processing
capability that is sometimes preferable to the interactive
approach.<p>

Like <B>ictrans, med</B> performs commands from the command line using
the <B>-e</B> option.<p>

For example, when issued from the command line, the command:

<blockquote>
  <B>med -e '1,$ split 3 bnch' bnchmk.ncgm</B>
</blockquote>

would split the file <B>bnchmk.ncgm</B> into three smaller files:
<B>bnch001.ncgm</B>, <B>bnch002.ncgm</B>, and <B>bnch003.ncgm</B>. <p>

The command:

<blockquote>
  <B>med -e 'r bnch001.ncgm' -e 'r bnch002.ncgm' -e 'r bnch003.ncgm' -e 'w all.ncgm'</B>
</blockquote>

would concatenate the <B>bnch*</B> files into a single metafile,
<B>all.ncgm</B>. The <B>all.ncgm</B> file should be identical to the
original <B>bnchmk.ncgm</B>.<p>

<H2> Interoperability with other tools</H2><p>

NCL and NCAR Graphics provide utilities to facilitate interoperability
with other software. In essence, these tools may provide a bridge
between NCL/NCAR Graphics and some of the more ubiquitous software
packages that may be available at your site. This section identifies
these tools and takes a brief look at how they are commonly used.<p>

<H3>Non-NCAR Computer Graphics Metafiles</H3><p>

CGMs that were not created by NCL or NCAR Graphics are not suitable
for processing by NCL/NCAR Graphics applications. NCGMs contain
information not present in vanilla CGMs; this information helps to
speed up the parsing of the file. This parsing information must be
added to &quot;vanilla&quot; CGMs before they can be processed by
NCL and NCAR Graphics applications. The command:

<blockquote>
   <A NAME="cgm2ncgm"><B>cgm2ncgm &lt; vanilla.cgm &gt; ncar.ncgm</B></A>
</blockquote>

will read in a vanilla CGM named <B>vanilla.cgm<I></B></I> and produce
an NCAR CGM named <B>ncar.ncgm.</B> <p>

Similarly, NCGMs cannot be parsed by non-NCAR Graphics
applications. To convert the NCGM <B>ncar.ncgm</B> to the vanilla CGM
<B>vanilla.cgm,</B> use:


<blockquote>
  <A NAME="ncgm2cgm"><B>ncgm2cgm &lt; ncar.ncgm &gt; vanilla.cgm</B></A>
</blockquote>
<pre>
----------------------------------------------------------------------
 A converted CGM may not produce entirely correct results when           
 translated. NCAR Graphics translators operate on a subset of elements   
 of the CGM standard (as do many CGM translators) and thus may           
 encounter valid CGM elements that they do not know how to translate.    
 Similarly, NCGMs converted to vanilla CGMs are not guaranteed to be     
 correctly translated or even parsed by third-party translators.         
----------------------------------------------------------------------
</pre>

<H3>Rasterizing NCGMs</H3><p>

Many commercial and public-domain scientific visualization packages
accept raster imagery as an input source. The primary image format
used by NCAR Graphics is the NCGM. However, you may use <B><a
href="ctrans.html">ctrans</a></B> to convert your NCGM into a
number of different raster image formats. The general way to make such
a conversion is:

<blockquote>
  <B>ctrans -d <I>format</B></I> <B>-res <I>resolution</B></I> <B><I>metafile</B></I>  <B>&gt;</B>  <B><I>raster_file</B></I>
</blockquote>

For example, the command:

<blockquote>
  <B>ctrans -d hdf -res 512x512 myfile.ncgm &gt; myfile.hdf</B>
</blockquote>

converts the NCGM <B>myfile.ncgm</B> into an HDF raster file,
<B>myfile.hdf</B>, with a 512x512 pixel resolution. HDF files are
accepted by the NCSA application XImage.<p>

The command:

<blockquote>
  <B>ctrans -d avs -res 200x200 myfile.ncgm &gt; myfile.avs</B>
</blockquote>

converts <B>myfile.ncgm</B> into a 200x200-pixel AVS file. The AVS
raster file format is suitable for ingestion by the Application
Visualization System. Finally, an SGI raster file may be created with
a command like:

<blockquote>
  <B>ctrans -d sgi -res 200x200 myfile.ncgm &gt; myfile.sgi</B>
</blockquote>

SGI raster files are understood by Silicon Graphics Inc.'s Explorer.<p>


					</div>

					<p>&nbsp;</p>

		<!-- begin footer -->
		<div id="footer">
		
		<a href="mailto:ncladmin@ucar.edu">Contact the Webmaster</a>



		<!-- end footer -->
		</div>

           <br class="clearboth"/>

	   <!-- end content -->
	</div>
<!-- end wrap -->
</div>
</body>

<!-- Mirrored from www.ncl.ucar.edu/Document/Tools/nview.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:42:19 GMT -->
</html>

