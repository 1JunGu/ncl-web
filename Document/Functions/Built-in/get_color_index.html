<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.ncl.ucar.edu/Document/Functions/Built-in/get_color_index.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:43:18 GMT -->
<head>
<meta name="description" content="NCL built-in functions (color routines)">
<meta name="keywords" content="get_color_index">
<title>get_color_index</title>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../../../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../../../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../../../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../../../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../../../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../../../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../../../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../../Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../../../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../../Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../../../overview.html" class="subitem">Overview</a></li>
						<li><a href="../../../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../../../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../../../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../../../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../../index.html" class="subitem">Documentation</a></li>						
						<li><a href="../../../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="../../../Applications/index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="../../../Applications/index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="../../../Applications/Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="../../../Applications/list_io.html" class="subitem">File I/O</a></li>
						<li><a href="../../../Applications/list_data.html" class="subitem">Datasets</a></li>
						<li><a href="../../../Applications/list_maps.html" class="subitem">Maps</a></li>
						<li><a href="../../../Applications/list_models.html" class="subitem">Models</a></li>
						<li><a href="../../../Applications/list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="../../../Applications/list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="../../../Applications/list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="../../../Applications/list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="../../../Applications/list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="../../../Applications/list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../index.html" class="subitem">Category Listing</a></li>
						<li><a href="../list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../../Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../../Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../../Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../../Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../../Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../../Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../../Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../../Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../../Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../../Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../../Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../../Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../../Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../../Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../../Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../../Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../../Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../../Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../../Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../../Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../../Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../../Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../../Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../../Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../../Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../../Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../../Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../../Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../../Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../../../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../../Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../../Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../../Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../../Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../../Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../../Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../../Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../../Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../../Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="../../../Applications/editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="../../Tools/ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="../../Tools/ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="../../Tools/index.html" class="subitem">Tools</a></li>
					<li><a href="../../Tools/WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../../../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../../../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../../../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../../../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../../../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../../../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../../../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../../../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="../../../Applications/editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../../Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../../Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../../../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../../../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../../../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../../index.html" class="subitem">Documentation</a></li>
						<li><a href="../../../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../../../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../../../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../../../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../../../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">
<a class=crumb href="../../../index-2.html">NCL Home ></a>
<a class=crumb href="../../index-2.html">Documentation ></a>
<a class=crumb href="../index-2.html">Functions ></a>
<a class=crumb href="../color.html">Color routines</a>
<br>
<h1>get_color_index</h1>

<p>
Chooses a color index for a scalar value, given a color map and a
range of values.
</p>

<p>
<img src="https://www.ncl.ucar.edu/Images/new.gif"> <i>Available in <a href="../../../prev_releases.html#6.2.0">version 6.2.0</a> and later.</i>
<p>
<a name="Prototype"></a>
<h2>Prototype</h2>
<pre>
	function get_color_index (
		color_map  ,           
		levels [*] : numeric,  
		values     : numeric   
	)

	<a href="../return_val.html">return_val</a>  :  integer
</pre>
<a name="Arguments"></a>
<h2>Arguments</h2>
<em>color_map</em>
<p class=indent>An <a href="../../Graphics/color_table_gallery.html">NCL
predefined color map</a> (like "rainbow", "BlueRed", "matlab_jet"),
an <a href="../../glossary.html#RGB">RGB</a> array,
or an <a href="../../glossary.html#RGBA">RGBA</a> array.
</p>
<em>levels</em>
<p class=indent>An array of monotonically increasing numeric values of which
to compare the input <em>values</em> values to.
</p>
<em>values</em>
<p class=indent>An array of values that you want to calculate the appropriate color index
for, based on the given <em>levels</em>.</p>
<p class=indent>

In NCL V6.4.0 and earlier, this value can only be a scalar. This
function was enhanced in NCL V6.5.0 to allow the 3rd argument to be an
array of values.
</p>
<p class=indent>
</p>
<a name="Return"></a>
<h2>Return value</h2>
<p>
A scalar index or an array of integer indexes into the given color map.
</p><a name="Description"></a>
<h2>Description</h2>
<p>
This function uses the same spanning algorithm that NCL uses to choose
colors for a filled contour or vector plot, given a particular color
map and an array of levels. It uses the number of levels you have to
create a "nice" span across the color map such that it starts at the
very first color and ends at the very last color, using close to equal
spacing.  It determines which range each given value falls in,
and calculates the appropriate color index to return.
<p>

Here's what the return color indexes mean, given <i>n</i> values
in <em>levels</em>: <p>

<pre>
color index 0 : <em>value</em> &lt; <em>levels</em>(0)
color index 1 : <em>levels</em>(0) &le; <em>value</em> &lt; <em>levels</em>(1)
color index 2 : <em>levels</em>(1) &le; <em>value</em> &lt; <em>levels</em>(2)
. 
. 
.
color index <i>n-1</i> : <em>levels</em>(<i>n</i>-2) &le; <em>value</em> &lt; <em>levels</em>(<i>n</i>-1)
color index <i>n</i> : <em>levels</em>(<i>n</i>-1) &gt; <em>value</em>
</pre>
<p>

The color index values returned will start at 2 or 0, depending on
whether you give it a predefined color map or an array of RGB/RGBA
values. If you give it a predefined color map, then the first two
indexes, 0 and 1, are not considered, and the index values will start
at 2. If you give it an RGB/RGBA array, then it assumes you want to
start at the first index (index 0).
<p>

The color index values will always end at <i>clen</i>-1,
where <i>clen</i> is the number of colors in the given color map.
<p>

If you want to get the full array of color index values based on a set
of levels, use <a href="span_color_indexes.html"><strong>span_color_indexes</strong></a>.
<p>

If you want the RGB or RGBA values returned rather than the color index
values, use <a href="get_color_rgba.html"><strong>get_color_rgba</strong></a>.


</p><a name="See_also"></a>
<h2>See Also</h2>
<p>
<a href="span_color_indexes.html"><strong>span_color_indexes</strong></a>,
<a href="span_color_rgba.html"><strong>span_color_rgba</strong></a>,
<a href="get_color_rgba.html"><strong>get_color_rgba</strong></a>,
<a href="read_colormap_file.html"><strong>read_colormap_file</strong></a>,
<a href="../../Graphics/Interfaces/span_named_colors.html"><strong>span_named_colors</strong></a>
</p><a name="Examples"></a>
<h2>Examples</h2>
<p>
<b>Example 1a</b><p>

Get the appropriate color index out of
the <a href="../../Graphics/ColorTables/StepSeq25.html">StepSeq25</a>
color map for various scalar values, when given a range of levels from
1 to 10. "StepSeq25" has 27 colors. Note that colors 0 and 1 will not
be included:
<p>

<pre>
   levels = <a href="ispan.html"><strong>ispan</strong></a>(1,10,1)
   icol = <strong>get_color_index</strong>("StepSeq25",levels,0.5)
   <a href="print.html"><strong>print</strong></a>("color index = " + icol)

   icol = <strong>get_color_index</strong>("StepSeq25",levels,1.0)
   <a href="print.html"><strong>print</strong></a>("color index = " + icol)

   icol = <strong>get_color_index</strong>("StepSeq25",levels,9.9)
   <a href="print.html"><strong>print</strong></a>("color index = " + icol)

   icol = <strong>get_color_index</strong>("StepSeq25",levels,10)
   <a href="print.html"><strong>print</strong></a>("color index = " + icol)

   icol = <strong>get_color_index</strong>("StepSeq25",levels,10.1)
   <a href="print.html"><strong>print</strong></a>("color index = " + icol)

</pre>

The first scalar value was less than the first level, so that
index was equal to 2.
<p>

<pre>
  (0)  color index = 2
  (0)  color index = 4
  (0)  color index = 24
  (0)  color index = 26
  (0)  color index = 26
</pre>
<p>

<b>Example 1b</b><p>

This example uses the same input as the previous example, except
the third argument is now an array of values, thus requiring
only one call to the function.<p>

<b>This example will only work with NCL V6.5.0 or later.</b>
<p>

<pre>
   levels = <a href="ispan.html"><strong>ispan</strong></a>(1,10,1)
   icols  = <strong>get_color_index</strong>("StepSeq25",levels,(/0.5,1.0,9.9,10,10.1/))
   <a href="print.html"><strong>print</strong></a>("color index = " + icols)

</pre>


<pre>
  (0)  color index = 2
  (1)  color index = 4
  (2)  color index = 24
  (3)  color index = 26
  (4)  color index = 26
</pre>
<p>


<b>Example 2a</b><p>

Get the appropriate color index out of
the <a href="../../Graphics/ColorTables/StepSeq25.html">StepSeq25</a>
color map for various scalar values, when given a range of levels from
1 to 10. This example shows how to get the same results from
both <a href="get_color_rgba.html"><strong>get_color_rgba</strong></a>
and <strong>get_color_index</strong>.
<p>

<pre>
   cmap_name = "StepSeq25"
   levels    = <a href="ispan.html"><strong>ispan</strong></a>(1,10,1)
   cmap      = <a href="read_colormap_file.html"><strong>read_colormap_file</strong></a>(cmap_name)
   rcol1     = <a href="get_color_rgba.html"><strong>get_color_rgba</strong></a>(cmap_name,levels,0.0)
   icol1     = <strong>get_color_index</strong>(cmap_name,levels,0.0)
   rcol2     = <a href="get_color_rgba.html"><strong>get_color_rgba</strong></a>(cmap_name,levels,10.1)
   icol2     = <strong>get_color_index</strong>(cmap_name,levels,10.1)
;
; Note "icol1-2" instead of "icol1". This is because using get_color_index
; on a predefined color map ignores indexes 0 and 1. But, read_colormap_file
; simply doesn't include color indexes 0 and 1 when it reads the colormap,
; which means color index 0 is really the third color in the predefined
; colormap.
;
   <a href="print.html"><strong>print</strong></a>("rcol1 = " + rcol1 + "/" + cmap(icol1-2,:))
   <a href="print.html"><strong>print</strong></a>("rcol2 = " + rcol2 + "/" + cmap(icol2-2,:))
</pre>
<p>

Output:
<p>

<pre>
  (0) rcol1 = 0.6/0.6
  (1) rcol1 = 0.0588235/0.0588235
  (2) rcol1 = 0.0588235/0.0588235
  (3) rcol1 = 1/1
  (0) rcol2 = 0.74902/0.74902
  (1) rcol2 = 0.698039/0.698039
  (2) rcol2 = 1/1
  (3) rcol2 = 1/1
</pre>

<b>Example 2b</b><p>

This example uses the same input as the previous example, except
the third argument is now an array of values, thus requiring
only one call to the function.<p>

<b>This example will only work with NCL V6.5.0 or later.</b>
<p>

<p>

<pre>
   cmap_name = "StepSeq25"
   levels    = <a href="ispan.html"><strong>ispan</strong></a>(1,10,1)
   cmap      = <a href="read_colormap_file.html"><strong>read_colormap_file</strong></a>(cmap_name)
   rcols     = <a href="get_color_rgba.html"><strong>get_color_rgba</strong></a>(cmap_name,levels,(/0.0,10.1/))
   icols     = <strong>get_color_index</strong>(cmap_name,levels,(/0.0,10.1/))

   <a href="print.html"><strong>print</strong></a>("rcols = " + rcols + "/" + cmap(icols-2,:))
</pre>
<p>

Output:
<p>

<pre>
(0,0)   rcols = 0.6/0.6
(0,1)   rcols = 0.0588235/0.0588235
(0,2)   rcols = 0.0588235/0.0588235
(0,3)   rcols = 1/1
(1,0)   rcols = 0.74902/0.74902
(1,1)   rcols = 0.698039/0.698039
(1,2)   rcols = 1/1
(1,3)   rcols = 1/1
</pre>
</p>					</div>

					<p>&nbsp;</p>

		<!-- begin footer -->
		<div id="footer">
		
		<a href="mailto:ncladmin@ucar.edu">Contact the Webmaster</a>



		<!-- end footer -->
		</div>

           <br class="clearboth"/>

	   <!-- end content -->
	</div>
<!-- end wrap -->
</div>
</body>

<!-- Mirrored from www.ncl.ucar.edu/Document/Functions/Built-in/get_color_index.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 15:43:18 GMT -->
</html>
