<html>

<!-- Mirrored from www.ncl.ucar.edu/Document/Functions/WRF_arw/wrf_map_overlays.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 14:56:34 GMT -->
<head>
<meta name="description" content="NCL WRFUserARW.ncl functions (graphics routines)">
<meta name="keywords" content="wrf_map_overlays">
<title>wrf_map_overlays</title>
</head>

<body>
	
	<!-- main navigation include -->
		<!-- NCL CSS -->
	<link rel="stylesheet" href="../../../styles/ncl.css" type="text/css" media="all">
	
	
		<!-- Equal Height Columns -->
		<script type="text/javascript" src="../../../scripts/column_height_equal.js"></script>
		
		<!-- DOJO Expandable Tree Nav -->

		<script type="text/javascript" src="../../../scripts/dojo/dojo.js"></script>
		<script type="text/javascript">
		
		dojo.require("dojo.widget.TreeV3");
		dojo.require("dojo.widget.TreeNodeV3");
		dojo.require("dojo.widget.TreeLinkExtension");
		dojo.require("dojo.widget.TreeBasicControllerV3");
		dojo.hostenv.writeIncludes();

		</script>
		

		<div id="top_colorbar"><!-- begin top_colorbar -->
		</div><!-- end top_colorbar -->


	<div id="nav_org_wrap"><!-- begin nav_org_wrap -->
	<div id="nav_org"><!-- begin nav_org -->

		<ul class="menubar">


			<li><a class="trigger" href="../../../internal/index.html">&nbsp;</a>
			</li>

			<li><a class="trigger" href="http://www.ucar.edu/">UCAR</a>
			</li>

			<li><a class="trigger" href="http://www.ncar.ucar.edu/">NCAR</a>
			</li>

			<li><a class="trigger" href="http://www.cisl.ucar.edu/">CISL</a>
			</li>
		</ul>

	</div><!-- end nav_org -->

	<div id="search"><!-- begin search -->

		<ul class="menubar">

			<li><a class="trigger" href="../../../Download/index.html">Download</a>
			</li>

			<li><a class="trigger" href="../../../citation.html">Citing NCL</a>
			</li>

			<li><a class="trigger" href="../../../contributors.html">Contributors</a>
			</li>

		</ul>

	</div><!-- end search -->

	</div><!-- end nav_org_wrap -->
	
	
	

		<div id="nav_main_wrap"><!-- begin nav_main_wrap -->

		<div id="nav_main"><!-- begin nav_main -->
			<ul id="menubar_main">

				<li>
				<a href="../../Pivot_to_Python/september_2019_update.html" class="triggeryw">&#9733; UPDATED LETTER TO NCL USERS</a>
				<li>
				<a href="../../../index.html" class="triggeron">NCL</a>
					<ul>
                                          <li><a href="../../Pivot_to_Python/index.html">Pivot to Python</a>
					  <li><a href="../../../overview.html" class="subitem">Overview</a></li>
						<li><a href="../../../get_started.html" class="subitem">Getting Started</a> </li>
						<li><a href="../../../gallery.html" class="subitem">Gallery</a></li>
						<li><a href="../../../Download/index.html" class="subitem">Download</a></li>
						<li><a href="../../../current_release.html" class="subitem">What's New</a></li>
						<li><a href="../../index.html" class="subitem">Documentation</a></li>						
						<li><a href="../../../citation.html" class="subitem">Citing NCL</a></li>
					</ul>

				</li>

				<li>
				<a href="../../../Applications/index.html" class="trigger">Examples</a>
					<ul>
						<li><a href="../../../Applications/index.html" class="subitem" title="Examples">All Examples</a></li>
						<li><a href="../../../Applications/Templates/index.html" class="subitem">Templates</a></li>
						<li><a href="../../../Applications/list_io.html" class="subitem">File I/O</a></li>
						<li><a href="../../../Applications/list_data.html" class="subitem">Datasets</a></li>
						<li><a href="../../../Applications/list_maps.html" class="subitem">Maps</a></li>
						<li><a href="../../../Applications/list_models.html" class="subitem">Models</a></li>
						<li><a href="../../../Applications/list_dataP.html" class="subitem">Data Analysis</a></li>
						<li><a href="../../../Applications/list_ptypes.html" class="subitem">Plot Types</a></li>
						<li><a href="../../../Applications/list_tech.html" class="subitem">Plot Techniques</a></li>
						<li><a href="../../../Applications/list_special.html" class="subitem">Special Plots</a></li>
						<li><a href="../../../Applications/list_grids.html" class="subitem">Non-uniform Grids</a></li>
						<li><a href="../../../Applications/list_misc.html" class="subitem">Miscellaneous</a></li>
					</ul>
				</li>

				<li>
				<a href="../list_alpha.html" class="trigger">Functions</a>
					<ul>
						<li><a href="../list_alpha.html" class="subitem">Alphabetical Listing</a></li>
						<li><a href="../index.html" class="subitem">Category Listing</a></li>
						<li><a href="../list_type.html" class="subitem">Function-Type Listing</a></li>						
					</ul>
				</li>
				
				<li>
				<a href="../../Graphics/Resources/index.html" class="trigger">Resources</a>
					<ul>
					  <li><a href="../../Graphics/Resources/list_alpha_res.html" class="subitem">Complete Listing</a></li>
					
						<li><a href="../../Graphics/Resources/am.html" class="subitem">am (annotation manager)</a></li>
						<li><a href="../../Graphics/Resources/app.html" class="subitem">app (app)</a></li>
						<li><a href="../../Graphics/Resources/ca.html" class="subitem">ca (coordinate array)</a></li>
						<li><a href="../../Graphics/Resources/cn.html" class="subitem">cn (contour)</a></li>
						<li><a href="../../Graphics/Resources/ct.html" class="subitem">ct (coordinate array table)</a></li>
						<li><a href="../../Graphics/Resources/dc.html" class="subitem">dc (data comm)</a></li>
						
						<li><a href="../../Graphics/Resources/err.html" class="subitem">err (error)</a></li>
						<li><a href="../../Graphics/Resources/gs.html" class="subitem">gs (graphics styles)</a></li>
						<li><a href="../../Graphics/Resources/gsn.html" class="subitem">gsn (gsn high-level interfaces)</a></li>
						<li><a href="../../Graphics/Resources/lb.html" class="subitem">lb (label bar)</a></li>
						<li><a href="../../Graphics/Resources/lg.html" class="subitem">lg (legends)</a></li>
						<li><a href="../../Graphics/Resources/mp.html" class="subitem">mp (maps)</a></li>
						
						<li><a href="../../Graphics/Resources/pm.html" class="subitem">pm (plot manager)</a></li>
						<li><a href="../../Graphics/Resources/pr.html" class="subitem">pr (primitives)</a></li>
						<li><a href="../../Graphics/Resources/sf.html" class="subitem">sf (scalar field)</a></li>
						<li><a href="../../Graphics/Resources/st.html" class="subitem">st (streamline)</a></li>
						<li><a href="../../Graphics/Resources/tf.html" class="subitem">tf (transform)</a></li>
						<li><a href="../../Graphics/Resources/ti.html" class="subitem">ti (title)</a></li>
						
						<li><a href="../../Graphics/Resources/tm.html" class="subitem">tm (tickmark)</a></li>
						<li><a href="../../Graphics/Resources/tr.html" class="subitem">tr (transformation)</a></li>
						<li><a href="../../Graphics/Resources/tx.html" class="subitem">tx (text)</a></li>
						<li><a href="../../Graphics/Resources/vc.html" class="subitem">vc (vectors)</a></li>
						<li><a href="../../Graphics/Resources/vf.html" class="subitem">vf (vector field)</a></li>
						<li><a href="../../Graphics/Resources/vp.html" class="subitem">vp (view port)</a></li>
						
						<li><a href="../../Graphics/Resources/wk.html" class="subitem">wk (workstation)</a></li>
						<li><a href="../../Graphics/Resources/ws.html" class="subitem">ws (workspace)</a></li>
						<li><a href="../../Graphics/Resources/xy.html" class="subitem">xy (xy plots)</a></li>						
					</ul>
        </li>

				<li>
				<a href="../../../links.html" class="trigger">Popular Links</a>
					<ul>
					<li><a href="../../Graphics/hlures.html" class="subitem">.hluresfile</a></li>
					<li><a href="../../Graphics/color_table_gallery.html" class="subitem">Color Tables</a></li>
					<li><a href="../../Graphics/font_tables.html" class="subitem">Font Tables</a></li>	
					<li><a href="../../Language/error_messages.html" class="subitem">Error Messages</a></li>	
					<li><a href="../../Graphics/Images/dashpatterns.png" class="subitem">Dash Pattern Table</a></li>	
					<li><a href="../../Graphics/Images/fillpatterns.png" class="subitem">Fill Pattern Table</a></li>	
					<li><a href="../../Graphics/Images/markers.png" class="subitem">Marker Table</a></li>
					<li><a href="../../Graphics/map_projections.html" class="subitem">Map Projections</a></li>
					<li><a href="../../Graphics/rangs.html" class="subitem">High Resolution Map Database</a></li>
					<li><a href="../../../Applications/editor.html" class="subitem">Editor Enhancements</a></li>
					<li><a href="../../Tools/ncl_convert2nc.html">ncl_convert2nc</a></li>
					<li><a href="../../Tools/ncl_filedump.html">ncl_filedump</a></li>
					<li><a href="../../Tools/index.html" class="subitem">Tools</a></li>
					<li><a href="../../Tools/WRAPIT.html" class="subitem">WRAPIT</a></li>
					</ul>
				</li>

				<li>
				<a href="../../../announcements.html" class="trigger">What's New</a>
					<ul>
					        <li><a href="../../../announcements.html" class="subitem">Announcements</a></li>
						<li><a href="../../../current_release.html" class="subitem">In Latest Release</a></li>
						<li><a href="../../../new_applications.html" class="subitem">In Application Examples</a></li>
						<li><a href="../../../future_release.html" class="subitem">In Next Release</a></li>	
						<li><a href="../../../prev_releases.html" class="subitem">In Previous Releases</a></li>
					</ul>
				</li>
	

				<li>
				<a href="../../../Support/index.html" class='trigger'>Support</a>
					<ul>
						<li><a href="../../../Support/email_lists.html" class="subitem">Email Lists</a></li>
						<li><a href="../../../Applications/editor.html" class="subitem">Editor enhancements</a></li>
						<li><a href="../../Language/error_messages.html" class="subitem">Error messages</a></li>
						<li><a href="../../Manuals/index.html" class="subitem">Manuals</a></li>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="../../../Training/index.html" class="subitem">Training</a></li>
						<li><a href="../../../Training/Webinars/index.html" class="subitem">Webinars</a></li>
						<li><a href="../../../Training/Workshops/index.html" class="subitem">Workshops</a></li>
						<li><a href="../../index.html" class="subitem">Documentation</a></li>
						<li><a href="../../../FAQ/index.html" class="subitem">FAQ</a></li>
						<li><a href="../../../ftp_files.html" class="subitem">Uploading files via ftp</a></li>
						<li><a href="../../../report_bug.html" class="subitem">Report Bugs</a></li>
					</ul>
				</li>

				<li>
				<a href="../../../External/index.html" class='trigger'>External</a>
					<ul>
						<li><a href="https://www2.cisl.ucar.edu/resources/computational-systems/geyser-and-caldera/visualization/using-ncl-the-cheyenne-environment">NCL on Cheyenne</a>
						<li><a href="http://climatedataguide.ucar.edu/" class="subitem">Climate Data Guide</a></li>
						<li><a href="https://code.zmaw.de/projects/cdo/" class="subitem">Climate Data Operators</a></li>
						<li><a href="http://www.earthsystemmodeling.org/" class="subitem">Earth System Modeling Framework</a></li>
						<li><a href="http://nco.sourceforge.net/" class="subitem">NetCDF Operators</a></li>
						<li><a href="http://www.pyngl.ucar.edu/" class="subitem">PyNGL</a></li>
						<li><a href="http://www.pyngl.ucar.edu/Nio.shtml" class="subitem">PyNIO</a></li>
					</ul>
				</li>


			<!-- end menubar_main -->		
			</ul>
		
		<!-- end nav_main -->	
		</div>
		
	<!-- end nav_main_wrap -->	
  	</div>
		
			

	
	<div id="wrap"><!-- begin wrap -->
	<div id="content"><!-- begin content -->
	
	<!-- ######### BEGIN EDITABLE PAGE CONTENT ######### -->

			<div id="subheader"><!-- begin subheader -->
			<map name="ncl-home">
<area shape="rect" coords="0,0,65,40" href="../../../index-2.html">
<area shape="rect" coords="540,0,615,40" href="http://www.ncar.ucar.edu/">
<area shape="rect" coords="625,0,665,40" href="http://www.nsf.gov/">
</map>

	<div id="nclheader">
	<img src="https://www.ncl.ucar.edu/Images/NCL_NCAR_NSF_banner.png" height=40 "NCL Website header" usemap="#ncl-home">
	</div>


			<div id="googlesearch">
<form style="float:right" id="cse-search-box" action="http://google.com/cse">
  <input type="hidden" name="cx" value="016712339613867830978:igijo92w2zo" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" size="31" maxlength="255" id="searchbox" /><label for="searchbox">Search</label>
  <input type="hidden" name="hq" value="site:www.ncl.ucar.edu">
</form>
			</div><!-- end googlesearch -->

			</div><!-- end subheader -->
			
			      <div id="general_main">

<a class=crumb href="../../../index-2.html">NCL Home ></a>
<a class=crumb href="../../index-2.html">Documentation ></a>
<a class=crumb href="../index-2.html">Functions ></a>
<a class=crumb href="../wrf.html">WRF</a>,
<a class=crumb href="../graphics_routines.html">Graphics routines</a>
<br>
<h1>wrf_map_overlays</h1>

<p>
Overlays contour and vector plots on a WRF-ARW map background.
</p>

<a name="Prototype"></a>
<h2>Prototype</h2>
<pre>
load "$NCARG_ROOT/lib/ncarg/nclscripts/csm/gsn_code.ncl"      ; These two libraries are <b>automatically</b>
load "$NCARG_ROOT/lib/ncarg/nclscripts/wrf/WRFUserARW.ncl"    ; <b>loaded</b> from NCL V6.4.0 onward.
                                                              ; No need for user to explicitly load.

	function wrf_map_overlays (
		nc_file     : file,     
		wks         : graphic,  
		plots   [*] : graphic,  
		plt_res [1] : logical,  
		map_res [1] : logical   
	)
</pre>
<a name="Arguments"></a>
<h2>Arguments</h2>
<em>nc_file</em>
<p class=indent>Reference to an input netCDF file opened with
<a href="../Built-in/addfile.html"><strong>addfile</strong></a>.
</p>
<em>wks</em>
<p class=indent>An NCL <a href="../../HLUs/Classes/Workstation.html"><strong>Workstation</strong></a> identifier.  The identifier is
one returned either from
calling <a href="../../Graphics/Interfaces/gsn_open_wks.html"><strong>gsn_open_wks</strong></a> or
calling <a href="../../Manuals/Ref_Manual/NclStatements.html#Create">create</a> to create a Workstation object.
</p>
<em>plots</em>
<p class=indent>Plots to overlay over map background, possibly created by calls to
<a href="wrf_contour.html"><strong>wrf_contour</strong></a> and/or <a href="wrf_vector.html"><strong>wrf_vector</strong></a>.
</p>
<em>plt_res</em>
<p class=indent>A plot resource list.  See the <a href="#Description">description</a>
section below for more information.
</p>
<em>map_res</em>
<p class=indent>A map resource list. See the <a href="#Description">description</a>
section below for more information.
</p>
<a name="Description"></a>
<h2>Description</h2>
<p>
This function creates a map background, and overlays the given
graphical plots. 
<p>

<b>IMPORTANT NOTE</b>: this function removes all the overlaid
plots after they are created.  This allows users to "resuse" the map
plot if desired, to overlay other plots.  If you do not want the plots
removed, then set

<pre>  <em>plt_res</em>@PanelPlot = True</pre><p>

This tells the function that you want to panel or redraw the plots
later, and it won't remove the overlaid plots.
<p>

Some special resources are recognized for the <em>plt_res</em> 
resource list:

<ul>
<li><b>NoTitles</b> (default: False)<p>

If set to True, then the top left titles will not be drawn.  The
main titles will be left alone.
<p>

This resource can be useful if you are planning to panel the plots.
<p>

<li><b>CommonTitle</b> (default: True)<p>

If set to False, then the top field titles will not be drawn.
<p>

<li><b>FramePlot</b> (default:  True)<p>

If set to False, then the plot will be drawn, but the frame will not
be advanced. This allows you to draw more graphical objects on the
same page.
<p>

<li><b>PanelPlot</b> (default: False)<p>

If set to True, then this flags to <strong>wrf_map_overlays</strong> that these plots are
going to be eventually paneled (likely by <a href="../../Graphics/Interfaces/gsn_panel.html"><strong>gsn_panel</strong></a>.) Hence, the plot will not be drawn,
nor will the frame be advanced, unless <a href="../../Graphics/Resources/gsn.html#gsnDraw"><em>gsnDraw</em></a> and/or <a href="../../Graphics/Resources/gsn.html#gsnFrame"><em>gsnFrame</em></a> are explicitly set to True.
<p>

<li><b>LatLonOverlay</b> (default: False)<p>

If set to True, then this flags to the function that the XLAT/XLONG
values on the NetCDF file are being used to do the
overlay, via the special resources
<a href="../../Graphics/Resources/sf.html#sfXArray"><em>sfXArray</em></a> /
<a href="../../Graphics/Resources/sf.html#sfYArray"><em>sfYArray</em></a>
for 
<a href="wrf_contour.html"><strong>wrf_contour</strong></a>, or 
<a href="../../Graphics/Resources/vf.html#vfXArray"><em>vfXArray</em></a> /
<a href="../../Graphics/Resources/vf.html#vfYArray"><em>vfYArray</em></a>
for 
<a href="wrf_vector.html"><strong>wrf_vector</strong></a>.
<p>

Setting these resources allows you to further zoom in on the default
map created by this function. This is an alternate to using
the <em>ZoomIn</em> attribute.  The <em>ZoomIn</em> method may make
your code run faster, but is more cumbersome to use.
<p>

See <a href="#Examples">example #2</a> below.

</ul>
<p>

Some special resources are recognized for the <em>map_res</em> 
resource list:

<ul>
<li><b>ZoomIn</b> - default is False
<p>

If this resource is set to True, then this indicates you want to
further zoom in on the default map created by this function. You need
to also set these special attributes:
<p>
<ul>

<li><i>Ystart</i>,<i>Xstart</i> - default is (0,0)
<p>

Set this pair to the index values in the 2-dimensional
latitude/longitude arrays that represents the minimum
latitude/longitude value you want to zoom in on.

<li><i>Yend</i>,<i>Xend</i> - default is (nlat-1,nlon-1)

Set this pair to the index values in the 2-dimensional
latitude/longitude arrays that represents the maximum
latitude/longitude value you want to zoom in on.
<p>

The above four index values can be calculated
using <a href="wrf_user_ll_to_xy.html"><strong>wrf_user_ll_to_xy</strong></a>.
<p>

You can alternatively use the "LatLonOverlay" method described above.
Using the "ZoomIn" attribute may make your code run faster, but is a
little more cumbersom to use.

</ul>
<p>

Here's <a href="http://www2.mmm.ucar.edu/wrf/OnLineTutorial/Graphics/NCL/Examples/SPECIAL/olr.htm">an example</a> of using this resource.
<p>

<li><b>mpNestTime</b> - default is 0, allows you to set the
index of the desired time step, and the lat/lon values associated
with this timestep will be used for the map projection.

</ul>
<p><p>

<strong>wrf_map_overlays</strong> is part of a
library of functions and procedures in <a
href="WRFUserARW.html">WRFUserARW.ncl</a> written to help users
plot ARW WRF model data. This function replaces <a href="wrf_map_overlay.html"><strong>wrf_map_overlay</strong></a>.
<p>

If you want to use gsn_add_poly<i>xxxx</i> routines
(like <a href="../../Graphics/Interfaces/gsn_add_polymarker.html"><strong>gsn_add_polymarker</strong></a>) to add
primtives to a WRF plot, then you need to set:
<p>

<pre>
plt_res@PanelPlot = True
plt_res@FramePlot = False
</pre>
<p>

before you call <strong>wrf_map_overlays</strong>.
Then, call the appropriate gsn_add_poly<i>xxxx</i> routine to
attach the desired primitives, and finally call
<a href="../Built-in/draw.html"><strong>draw</strong></a>(plot) and <a href="../Built-in/frame.html"><strong>frame</strong></a>(wks) to
draw the plot with the attached primitives and advance the frame.
<p>


</p><a name="See_also"></a>
<h2>See Also</h2>
<p>
<a href="wrf_contour.html"><strong>wrf_contour</strong></a>,
<a href="wrf_vector.html"><strong>wrf_vector</strong></a>, 
<a href="wrf_overlays.html"><strong>wrf_overlays</strong></a>,
<a href="wrf_map_resources.html"><strong>wrf_map_resources</strong></a>
</p><a name="Examples"></a>
<h2>Examples</h2>
<p>
<b>Example 1</b><p>

<pre>
  load "$NCARG_ROOT/lib/ncarg/nclscripts/csm/gsn_code.ncl"
  load "$NCARG_ROOT/lib/ncarg/nclscripts/wrf/WRFUserARW.ncl"

  a = <a href="../Built-in/addfile.html"><strong>addfile</strong></a>("wrfout_d01_2000-01-24_12:00:00.nc","r")

  wks = <a href="../../Graphics/Interfaces/gsn_open_wks.html"><strong>gsn_open_wks</strong></a>("x11","test")

  time = 1
  slp = <a href="wrf_user_getvar.html"><strong>wrf_user_getvar</strong></a>(a,"slp",time)  ; slp
        <a href="../Built-in/wrf_smooth_2d.html"><strong>wrf_smooth_2d</strong></a>( slp, 3 )        ; smooth slp

  tc2 = <a href="wrf_user_getvar.html"><strong>wrf_user_getvar</strong></a>(a,"T2",time)   ; T2 in Kelvin
  u10 = <a href="wrf_user_getvar.html"><strong>wrf_user_getvar</strong></a>(a,"U10",time)  ; u at 10 m
  v10 = <a href="wrf_user_getvar.html"><strong>wrf_user_getvar</strong></a>(a,"V10",time)  ; v at 10 m

  rest = True
  rest@<a href="../../Graphics/Resources/cn.html#cnFillOn"><em>cnFillOn</em></a> = True
  contour_t = <a href="wrf_contour.html"><strong>wrf_contour</strong></a>(a,wks,tc2,rest)

  resp = True
  resp@<a href="../../Graphics/Resources/cn.html#cnLineColor"><em>cnLineColor</em></a> = "NavyBlue"
  contour_p = <a href="wrf_contour.html"><strong>wrf_contour</strong></a>(a,wks,slp,resp)

  resw = True
  vector = <a href="wrf_vector.html"><strong>wrf_vector</strong></a>(a,wks,u10,v10,resw)

  over_id = <strong>wrf_map_overlays</strong>(a, wks,(/contour_t,contour_p,vector/),True,True)
</pre>
<p>

<b>Example 2</b><p>

This example shows how to zoom in on a map by using the XLAT/XLONG
arrays on the file, and the special "LatLonOverlay" attribute:
<p>

<pre>
load "$NCARG_ROOT/lib/ncarg/nclscripts/csm/gsn_code.ncl"
load "$NCARG_ROOT/lib/ncarg/nclscripts/wrf/WRFUserARW.ncl"

begin
;---Open WRF output file and read data
  dir      = "./"
  filename = "wrfout.nc"
  a = <a href="../Built-in/addfile.html"><strong>addfile</strong></a>(dir + filename,"r")

  times  = <a href="wrf_user_list_times.html"><strong>wrf_user_list_times</strong></a>(a)  ; get times in the file
  ntimes = <a href="../Built-in/dimsizes.html"><strong>dimsizes</strong></a>(times)         ; number of times in the file

;---Just look at first time step.
  it = 0
  <a href="../Built-in/print.html"><strong>print</strong></a>("Working on time: " + times(it) )

;---Read temperature and terrain height off file
  tc    = <a href="wrf_user_getvar.html"><strong>wrf_user_getvar</strong></a>(a,"tc",it)     ; T in C
  lat2d = <a href="wrf_user_getvar.html"><strong>wrf_user_getvar</strong></a>(a,"XLAT",it)   ; latitude
  lon2d = <a href="wrf_user_getvar.html"><strong>wrf_user_getvar</strong></a>(a,"XLONG",it)  ; longitude
  dims = <a href="../Built-in/dimsizes.html"><strong>dimsizes</strong></a>(tc)

;---Start the graphics
  wks = <a href="../../Graphics/Interfaces/gsn_open_wks.html"><strong>gsn_open_wks</strong></a>("x11","wrf_latlonoverlay")

;---Set some basic plot options
  opts = True
  opts@MainTitle                   = "REAL-TIME WRF"

  pltres = True
  mpres  = True

  opts@TimeLabel = times(it)   ; Set valid time to use on plots

;----------------------------------------------------------------------
; Plot full domain first.
;----------------------------------------------------------------------
  opts@<a href="../../Graphics/Resources/cn.html#cnFillOn"><em>cnFillOn</em></a> = True  

  contour = <a href="wrf_contour.html"><strong>wrf_contour</strong></a>(a,wks,tc(it,:,:),opts)
  plot = <strong>wrf_map_overlays</strong>(a,wks,(/contour/),pltres,mpres)

;----------------------------------------------------------------------
; Plot partial domain.
;----------------------------------------------------------------------
  opts@<a href="../../Graphics/Resources/sf.html#sfXArray"><em>sfXArray</em></a> = lon2d
  opts@<a href="../../Graphics/Resources/sf.html#sfYArray"><em>sfYArray</em></a> = lat2d

  contour = <a href="wrf_contour.html"><strong>wrf_contour</strong></a>(a,wks,tc(it,:,:),opts)

;---Set special resource to indicate we are using XLAT/XLONG coordinates.
  pltres@LatLonOverlay = True

;---Zoom in on map, which we can do because we're using lat/lon coordinates.
  mpres@<a href="../../Graphics/Resources/mp.html#mpLeftCornerLatF"><em>mpLeftCornerLatF</em></a>  =  30.
  mpres@<a href="../../Graphics/Resources/mp.html#mpRightCornerLatF"><em>mpRightCornerLatF</em></a> =  35.
  mpres@<a href="../../Graphics/Resources/mp.html#mpLeftCornerLonF"><em>mpLeftCornerLonF</em></a>  = -85.
  mpres@<a href="../../Graphics/Resources/mp.html#mpRightCornerLonF"><em>mpRightCornerLonF</em></a> = -80.

  plot = <strong>wrf_map_overlays</strong>(a,wks,(/contour/),pltres,mpres)
end

</pre>
<p>

You can see some other example scripts and their resultant images at:

<blockquote>
<a href="http://www2.mmm.ucar.edu/wrf/OnLineTutorial/Graphics/NCL/">http://www2.mmm.ucar.edu/wrf/OnLineTutorial/Graphics/NCL/</a>
</blockquote>
</p>					</div>

					<p>&nbsp;</p>

		<!-- begin footer -->
		<div id="footer">
		
		<a href="mailto:ncladmin@ucar.edu">Contact the Webmaster</a>



		<!-- end footer -->
		</div>

           <br class="clearboth"/>

	   <!-- end content -->
	</div>
<!-- end wrap -->
</div>
</body>

<!-- Mirrored from www.ncl.ucar.edu/Document/Functions/WRF_arw/wrf_map_overlays.shtml by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 17 May 2025 14:56:34 GMT -->
</html>
